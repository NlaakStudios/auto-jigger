/*
 H5C3 Framework v0.9.9-alpha-Developer
 Built Tue Sep 17 17:54:30 2013
 http://h5c3.i2tmlabs.com/?license.txt
 Copyright 2013 by i2tm labs - all rights reserved.
 2013 by i2tm labs - all rights reserved.
*/
function g(){return function(){}}function r(b){return function(c){this[b]=c}}function y(b){return function(){return this[b]}}
(function(){var b={Hf:function(b,c,k){b+="";k=k?k:" ";if(b.length<c)for(;b.length<c;)b+=k;return b},Bf:function(b,c){if("undefined"===typeof b)return b;$lf="undefined"===typeof c||!1===c?", ":"\n";var k="",l;for(l in b)b.hasOwnProperty(l)&&("object"===typeof b[l]&&(k+="\n",b[l]=this.Bf(b[l],c)),k+=l+"::"+b[l]+$lf);return k+=$lf},Wc:function(){return this.replace(/\-(\w)/g,function(b,c){return c.toUpperCase()})},contains:function(b){b="string"===typeof b?b:b.toString();return-1<this.indexOf(b)},count:function(b){"[object RegExp]"!==
Object.prototype.toString.call(b)&&(b=b.toString().replace(/\$\^\[\]\{\}\(\)\?\:\.\+\*/g,"\\$1"));b=RegExp(b?b.source:".","g");return(this.match(b)||[]).length},Rk:function(b,c){return(b=b||"")+this+(c?c:b)},Uk:function(b,c){c=void 0===c?0:c;if(!b.global)return this.match(b)[c]||"";for(var k,l=[];k=b.exec(this);)l[l.length]=k[c]||"";return l},forEach:function(b){for(var c,k=-1;c=this[++k];)b.call(this,c,k);return!0},Wk:function(b){var c=this,k=-1;c.replace(/\b([\w\-]+)\b/g,function(l,m){b.call(c,
m,++k);return l});return!0},zl:function(b){return this.replace(/(^|\s)((?:f|ht)tps?:\/\/[^\s]+)/g,b||'$1<a href="$2">$2</a>')},Hl:function(b){return Array(b?b+1:2).join(this)},pm:function(){return this.split("").sort(function(){return 0.5<Math.random()?-1:1}).join("")},remove:function(b){return this.replace(b||/./g,"")},reverse:function(){return this.split("").reverse().join("")},Cm:function(b,c){var k=this.substring(0,b||this.length);return k+(k===this?"":c||"")},sort:function(){return Array.prototype.sort.apply(this.split(""),
arguments).join("")},Km:function(){document.createElement("div").innerHTML=this;return Array.prototype.slice.call(div.childNodes)},trim:function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},Vm:function(b,c,k){c=c||"\n";b=b||75;return this?this.match(RegExp(".{1,"+b+"}(\\s|$)"+(k?"|.{"+b+"}|.+$":"|\\S+?(\\s|$)"),"g")).join(c):this}},c;for(c in b)String.prototype[c]=String.prototype[c]||b[c]})();
function A(){function b(c){c=c||{bi:!0};var f=c.Ma||null;c=!!c.bi;var h=new b.implementation,k=h.Ld(f);k.push(f);return c?h.di(k):k}b.implementation=g();b.implementation.prototype={Ld:function(b,f){b=b||this.zh();f=f||this.mode(b);return"other"===f?this.Vi(arguments.callee):this[f](b)},zh:function(){try{this.Qm()}catch(b){return b}},mode:function(b){return b.arguments&&b.stack?"chrome":b.stack&&b.sourceURL?"safari":b.stack&&b.Pl?"ie":b.stack&&b.fileName?"firefox":b.message&&b["opera#sourceloc"]?!b.Sd||
-1<b.message.indexOf("\n")&&b.message.split("\n").length>b.Sd.split("\n").length?"opera9":"opera10a":b.message&&b.stack&&b.Sd?0>b.Sd.indexOf("called from line")?"opera10b":"opera11":b.stack&&!b.fileName?"chrome":"other"},Vi:function(b){for(var f=/function\s*([\w\-$]+)?\s*\(/i,h=[],k,l;b&&b.arguments&&10>h.length;)k=f.test(b.toString())?RegExp.$1||"{anonymous}":"{anonymous}",l=Array.prototype.slice.call(b.arguments||[]),h[h.length]=k+"("+this.vc(l)+")",b=b.caller;return h},vc:function(b){for(var f=
[],h=Array.prototype.slice,k=0;k<b.length;++k){var l=b[k];void 0===l?f[k]="undefined":null===l?f[k]="null":l.constructor&&(l.constructor===Array?f[k]=3>l.length?"["+this.vc(l)+"]":"["+this.vc(h.call(l,0,1))+"..."+this.vc(h.call(l,-1))+"]":l.constructor===Object?f[k]="#object":l.constructor===Function?f[k]="#function":l.constructor===String?f[k]='"'+l+'"':l.constructor===Number&&(f[k]=l))}return f.join(",")},Rd:{},qh:function(b){var f=this.bd();if(f)try{return f.open("GET",b,!1),f.send(null),f.responseText}catch(h){}return""},
bd:function(){for(var b,f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],h=0;h<f.length;h++)try{return b=f[h](),this.bd=f[h],b}catch(k){}},ri:function(b){return"undefined"!==typeof location&&-1!==b.indexOf(location.hostname)},$h:function(b){b in this.Rd||(this.Rd[b]=this.qh(b).split("\n"));return this.Rd[b]},di:function(b){for(var f=0;f<b.length;++f){var h=
/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,k=b[f],l=/\{anonymous\}\(.*\)@(.*)/.exec(k);if(l){var m=h.exec(l[1]);m&&(h=m[1],l=m[2],m=m[3]||0,h&&this.ri(h)&&l&&(h=this.ci(h,l,m),b[f]=k.replace("{anonymous}",h)))}}return b},ci:function(b,f){var h;try{h=this.Oh(this.$h(b),f)}catch(k){h="getSource failed with url: "+b+", exception: "+k.toString()}return h},Oh:function(b,f){for(var h=/function\s+([^(]*?)\s*\(([^)]*)\)/,k=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,l=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,
m="",n,p=Math.min(f,20),q,s=0;s<p;++s)if(n=b[f-s-1],q=n.indexOf("//"),0<=q&&(n=n.substr(0,q)),n)if(m=n+m,(n=k.exec(m))&&n[1]||(n=h.exec(m))&&n[1]||(n=l.exec(m))&&n[1])return n[1];return"(?)"}};return b}"object"===typeof exports?module.Tk=A():A();"object"!==typeof JSON&&(JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function c(b){k.lastIndex=0;return k.test(b)?'"'+b.replace(k,function(b){var c=n[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function f(b,h){var k,n,v,u,x=l,w,t=h[b];t&&"object"===typeof t&&"function"===typeof t.toJSON&&(t=t.toJSON(b));"function"===typeof p&&(t=p.call(h,b,t));switch(typeof t){case "string":return c(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);
case "object":if(!t)return"null";l+=m;w=[];if("[object Array]"===Object.prototype.toString.apply(t)){u=t.length;for(k=0;k<u;k+=1)w[k]=f(k,t)||"null";v=0===w.length?"[]":l?"[\n"+l+w.join(",\n"+l)+"\n"+x+"]":"["+w.join(",")+"]";l=x;return v}if(p&&"object"===typeof p)for(u=p.length,k=0;k<u;k+=1)"string"===typeof p[k]&&(n=p[k],(v=f(n,t))&&w.push(c(n)+(l?": ":":")+v));else for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v=f(n,t))&&w.push(c(n)+(l?": ":":")+v);v=0===w.length?"{}":l?"{\n"+l+w.join(",\n"+
l)+"\n"+x+"}":"{"+w.join(",")+"}";l=x;return v}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,m,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,h){var k;m=l="";if("number"===typeof h)for(k=0;k<h;k+=1)m+=" ";else"string"===typeof h&&(m=h);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return f("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function f(b,h){var k,l,m=b[h];if(m&&"object"===typeof m)for(k in m)Object.prototype.hasOwnProperty.call(m,k)&&(l=f(m,k),void 0!==l?m[k]=l:delete m[k]);return c.call(b,h,m)}var k;b=String(b);h.lastIndex=0;h.test(b)&&(b=b.replace(h,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return k=eval("("+b+")"),"function"===typeof c?f({"":k},""):k;throw new SyntaxError("JSON.parse");})})();DOC=function(){return document};GQS=function(b,c,f){return f.querySelector("div[data-"+b+'="'+c+'"]')};GEI=function(b){return DOC().getElementById(b)};GEN=function(b){return DOC().getElementsByName(b)};GEC=function(b){return DOC().el(b)};GET=function(b){return DOC().getElementsByTagName(b)};CNT=function(b){return"string"===typeof b?GEI(b):b};CTX=function(b){return CNT(b).getContext("2d")};
ESA=function(b,c,f){CNT(b).setAttribute(c,f)};EGA=function(b,c){CNT(b).getAttribute(c)};AEA=function(b,c,f,h){var k=CNT(b);c=DOC().createElement(c);f&&(c.id=f);h&&(c.innerHTML=h);k.parentNode.insertBefore(c,b);return k.parentNode.id};AET=function(){var b=CNT("waDIV"),c=DOC().createElement("canvas");c.id="waCANVAS";b.appendChild(c);return c};
PUW=function(b,c,f,h,k){var l=window.screen.availWidth/2-h/2,m=window.screen.availHeight/2-k/2;!0===f?(b=window.open(b,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no"),b.moveTo(0,0),b.resizeTo(window.screen.availWidth,window.screen.availHeight)):b=window.open(b,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+h+", height="+k+", top="+m+", left="+l);b&&!b.closed&&"undefined"!==
b.closed&&0!==b.screenX||window.alert("Please change your popup settings for this domain.");return b};VLD=function(b){return!(null===b||"undefined"===b||void 0===b||""===b)};CHK=function(b,c){return VLD(b)?b:c};AST=function(b,c){if(!b)throw c;};RUN=function(b){VLD(D.bc)&&D.applets.Ac({file:b})};
ERR=_DBG_=function(b,c){if(VLD(D)&&VLD(D.Kh)){var f=DOC().createEvent("Event");f.initEvent("H5C3Error",!0,!0);f.arguments=arguments;DOC().dispatchEvent(f)}else VLD(console)&&("string"===typeof c?f=c:"object"===typeof c||"function"===typeof c?(c.U?f=c.U:c.g&&(f=c.g),f+="-"+c.e):f="Unknown",console.log(f+":"+b))};
var D={g:"H5C3",e:"0.5.1",Jc:"H5C3 Framework",VERSION:"0.9.9-alpha",Rb:"Developer",fg:"Tue Sep 17 17:54:30 2013",path:{home:"http://h5c3.i2tmlabs.com/",Le:"public/sandbox/",applets:"public/applets/",scripts:"public/shared/js/",rj:"public/shared/css/",images:"public/shared/img/",plugins:"public/shared/plugins/",zj:"public/users/",yb:window.location.protocol+"//"+window.location.host+window.location.pathname.split("/").slice(0,-1).join("/")+"/"},md:Object.prototype.hasOwnProperty,pd:function(b){return"object"===
typeof b&&"function"===typeof b.pd},ia:function(b){return!!(b&&b.constructor&&b.call&&b.apply)},sf:function(b){return!(!b||!b.setInterval)},isArray:Array.isArray||function(b){return b.constructor===Array},qd:function(b){return"string"==typeof b},oc:function(b){return b===Object(b)},rf:function(b){if(!b||this.oc(b)||b.nodeType||this.sf(b))return!1;try{if(b.constructor&&!this.md.call(b,"constructor")&&!this.md.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var f in b);
return void 0===f||this.md.call(b,f)},bind:function(b,c){return function(){c.apply(b,arguments)}},extend:function(){var b,c,f,h,k,l=arguments[0]||{},m=1,n=arguments.length,p=!1;"boolean"===typeof l&&(p=l,l=arguments[1]||{},m=2);"object"===typeof l||D.ia(l)||(l={});n===m&&(l=this,--m);for(;m<n;m++)if(null!=(b=arguments[m]))for(c in b)f=l[c],h=b[c],l!==h&&(p&&h&&(this.rf(h)||(k=this.isArray(h)))?(k?(k=!1,f=f&&this.isArray(f)?f:[]):f=f&&this.rf(f)?f:{},l[c]=this.extend(p,f,h)):void 0!==h&&(l[c]=h));
return l},ba:!1,Ra:!1,f:function(){_DBG_("Initializing...",this);var b;b="No Configuration file detected.\nYour very first script tag should be as below. You can change the path/file for the data-config attribute.\n"+('EXAMPLE: <script src="'+this.yj("script")+'int/h5c3.debug.min.js" data-config="assets/config.js">\x3c/script>');if(config&&config.yb&&config.options)this.n=config,this.Ra=!0;else if(AST(!this.Xh(),b))return this.Ra;this.ba="Developer"===this.Rb||"Developer"===this.Rb?!0:!1;return this.Ra},
yj:function(b){switch(b.toLowerCase()){case "home":return this.path.home;case "base":return this.path.home+path.Le;case "applets":return this.path.home+path.applets;case "scripts":return this.path.home+path.scripts;case "styles":return this.path.home+path.rj;case "images":return this.path.home+path.images;case "plugins":return this.path.home+path.plugins;case "user":return this.path.home+path.zj;case "app":return this.path.yb}},Xh:function(){if("file:"!==location.protocol&&"undefined"===typeof this.n){var b=
document.getElementsByTagName("script")[0];if(0===b.children.length)b.dataset.n&&(this.path.n=this.path.yb+b.dataset.n);else for(i=0;i<b.children.length;i++)b.children[i].dataset.n&&(this.path.n=this.path.yb+b.children[i].dataset.n);this.path.n&&this.oe(this.path.n,function(){_DBG_("Loaded")},function(){_DBG_("Error")})}},xc:function(){return this.Jc+" v"+this.VERSION+"-"+this.Rb},oe:function(b,c,f,h,k,l){function m(b){b.H=printStackTrace.implementation.prototype.bd();if("withCredentials"in b.H){b.H.open(b.method,
b.url,!0);b.H.onerror=b.Qa;b.H.onreadystatechange=function(){!0===b.trace&&_DBG_(String.prototype.Bf({url:b.url,state:this.readyState,status:this.status,text:this.statusText},!1),D);4===b.H.readyState&&(200<=b.H.status&&400>b.H.status?(_DBG_(b.url+" SUCCESSFUL",D),b.va(b.H.responseText)):(_DBG_(b.url+" UNSUCCESSFUL - Check path & Filename.",D),b.H.abort()))};try{b.H.send(b.data)}catch(c){AST(null,printStackTrace({Ma:c}))}}}function n(b){b.H=new XDomainRequest;b.H.open(b.method,b.url);b.H.onerror=
b.Qa;b.H.onload=function(){c(b.H.responseText)};b.H.send(b.data)}if(VLD(b)&&""!==b){l=D.ba&&!0!=l?!1:!0;k={H:"",url:b,trace:l};k.method=CHK(h,"GET");k.va=CHK(c,this.xb);k.Qa=CHK(f,this.Da);k.data=CHK(f,0);f=b.indexOf("http");(a=b.indexOf("applet."))&&-1===f&&_DBG_("You cannot load Applets off local filesystem. Trying H5C3 Public archive...");try{if(XMLHttpRequest)return m(k);if(XDomainRequest)return n(k)}catch(p){}}else f(Error("URL provided is invalid ["+b+"]"))},Kk:function(b,c){storageRootEntry.getFile(b,
{create:!1},function(){c(!0)},function(){c(!1)})},Ld:function(){VLD(this.bc)||(this.bc=new D.gg)}};D.push=Array.prototype.push;D.Ci=function(b,c){var f=b.length,h=0;if("number"===typeof c.length)for(var k=c.length;h<k;h++)b[f++]=c[h];else for(;void 0!==c[h];)b[f++]=c[h++];b.length=f};D.Bi=function(b,c){var f=c||[];null!=b&&(null==b.length||D.qd(b)||D.ia(b)||D.sf(b)?D.push.call(f,b):D.Ci(f,b));return f};
D.hc=function(b,c,f){var h,k=0,l=b.length,m=void 0===l||D.ia(b);if(f)if(m)for(h in b){if(!1===c.apply(b[h],f))break}else for(;k<l&&!1!==c.apply(b[k++],f););else if(m)for(h in b){if(!1===c.call(b[h],h,b[h]))break}else for(;k<l&&!1!==c.call(b[k],k,b[k++]););return b};D.se={};D.Ah=function(b){var c=D.se[b]={},f,h;b=b.split(/\s+/);f=0;for(h=b.length;f<h;f++)c[b[f]]=!0;return c};
D.Dc=function(b){function c(c,f){f=f||[];l=!b.memory||[c,f];m=!0;q=n||0;n=0;for(p=h.length;h&&q<p;q++)if(!1===h[q].apply(c,f)&&b.Fm){l=!0;break}m=!1;h&&(b.Gf?!0===l?s.disable():h=[]:k&&k.length&&(l=k.shift(),s.ed(l[0],l[1])))}function f(c){var k,l,m;k=0;for(l=c.length;k<l;k++)m=c[k],D.isArray(m)?f(m):D.ia(m)&&(b.unique&&s.Bb(m)||h.push(m))}b=b?D.se[b]||D.Ah(b):{};var h=[],k=[],l,m,n,p,q,s={add:function(){if(h){var b=h.length;f(arguments);m?p=h.length:l&&!0!==l&&(n=b,c(l[0],l[1]))}return this},remove:function(){if(h)for(var c=
arguments,f=0,k=c.length;f<k;f++)for(var l=0;l<h.length&&(c[f]!==h[l]||(m&&l<=p&&(p--,l<=q&&q--),h.splice(l--,1),!b.unique));l++);return this},Bb:function(b){if(h)for(var c=0,f=h.length;c<f;c++)if(b===h[c])return!0;return!1},empty:function(){h=[];return this},disable:function(){h=k=l=void 0;return this},disabled:function(){return!h},wf:function(){k=void 0;l&&!0!==l||s.disable();return this},Cl:function(){return!k},ed:function(f,h){k&&(m?b.Gf||k.push([f,h]):b.Gf&&l||c(f,h));return this},Qh:function(){s.ed(this,
arguments);return this},hf:function(){return!!l}};return s};
D.extend({be:function(b){var c=D.Dc("once memory"),f=D.Dc("once memory"),h=D.Dc("memory"),k="pending",l={fj:c,Jf:f,Li:h},m={Fa:c.add,ic:f.add,ea:h.add,state:function(){return k},yl:c.hf,xl:f.hf,Yf:function(b,c,f){n.Fa(b).ic(c).ea(f);return this},Ck:function(){n.Fa.apply(n,arguments).ic.apply(n,arguments);return this},jm:function(b,c,f){return D.be(function(h){D.hc({Fa:[b,"resolve"],ic:[c,"reject"],ea:[f,"notify"]},function(b,c){var f=c[0],k=c[1],l;if(D.ia(f))n[b](function(){if((l=f.apply(this,arguments))&&
D.ia(l.wa))l.wa().Yf(h.fj,h.Jf,h.Li);else h[k+"With"](this===n?h:this,[l])});else n[b](h[k])})}).wa()},wa:function(b){if(null==b)b=m;else for(var c in m)b[c]=m[c];return b}},n=m.wa({}),p;for(p in l)n[p]=l[p].Qh,n[p+"With"]=l[p].ed;n.Fa(function(){k="resolved"},f.disable,h.wf).ic(function(){k="rejected"},c.disable,h.wf);b&&b.call(n,n);return n},Bj:function(b){function c(b){return function(c){k[b]=1<arguments.length?h.call(arguments,0):c;--p||q.Mf(q,k)}}function f(b){return function(c){n[b]=1<arguments.length?
h.call(arguments,0):c;q.Ol(s,n)}}var h=[].slice,k=h.call(arguments,0),l=0,m=k.length,n=Array(m),p=m,q=1>=m&&b&&D.ia(b.wa)?b:D.be(),s=q.wa();if(1<m){for(;l<m;l++)k[l]&&k[l].wa&&D.ia(k[l].wa)?k[l].wa().Yf(c(l),q.Jf,f(l)):--p;p||q.Mf(q,k)}else q!==b&&q.Mf(q,m?[b]:[]);return s}});
(function(b){function c(c,h,k){c=c?c.split(q):[];var l=c.length;h=b.isArray(h)?h:[h||window];var m,n,p,s=0;if(0==l)return h[0];for(;m=h[s++];){for(p=0;p<l-1&&f(m);p++)m=m[c[p]]||k&&(m[c[p]]={});if(f(m)&&(n=m[c[p]]||k&&(m[c[p]]={}),void 0!==n))return!1===k&&delete m[c[p]],n}}function f(b){return(b=typeof b)&&("function"==b||"object"==b)}var h=/_|-/,k=/::/,l=/([A-Z]+)([A-Z][a-z])/g,m=/([a-z\d])([A-Z])/g,n=/([a-z\d])([A-Z])/g,p=/\{([^\}]+)\}/g,q=/\./,s=b.Fg={gb:c,wh:function(b){return b.charAt(0).toUpperCase()+
b.substr(1)},Wc:function(b){b=s.Ve(b);return b.charAt(0).toLowerCase()+b.substr(1)},Ve:function(b,c){for(var f=b.split(h),k=0;k<f.length;k++)f[k]=s.wh(f[k]);return f.join(c||"")},Ml:function(b){return s.Ve(b," ")},Rm:function(b){return b.replace(k,"/").replace(l,"$1_$2").replace(m,"$1_$2").replace(n,"_").toLowerCase()},sub:function(b,f,h){var k=[];k.push(b.replace(p,function(b,l){var m=c(l,f,"boolean"==typeof h?!h:h),n=typeof m;if("object"!==n&&"function"!==n||null===n)return""+m;k.push(m);return""}));
return 1>=k.length?k[0]:k}}})(D);
(function(b){function c(b,c,f){f=f||b;for(var h in b)f[h]=l(b[h])&&l(c[h])&&p.test(b[h])?function(b,f){return function(){var h=this.m,k;this.m=c[b];k=f.apply(this,arguments);this.m=h;return k}}(h,b[h]):b[h]}function f(b){if(!b||"object"!=typeof b)return b;if(b instanceof Array){for(var c=[],h=0;h<b.length;h++)c[h]=f(b[h]);return c}c={};for(h in b)c[h]=f(b[h]);return c}var h=!1,k=b.Bi,l=b.ia,m=b.isArray,n=b.extend,p=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,q=b.a=function(){if(arguments.length)return q.extend.apply(q,
arguments)};n(q,{Pe:function(b){var c=k(arguments),f;b=c.shift();m(b)||(b=[b]);f=this;return function(){for(var h=c.concat(k(arguments)),l,n=b.length,p=0,q;p<n;p++)if(q=b[p])(l="string"==typeof q)&&f.rk&&(f.Gk=q),h=(l?f[q]:q).apply(f,h||[]),p<n-1&&(h=!m(h)||h.sk?[h]:h);return h}},gb:b.Fg.gb,Ji:function(){var b=this.aj(),c;b.uc&&(c=b.uc.apply(b,arguments));for(var h in b.__proto__)b[h]=f(b[h]);b.f&&b.f.apply(b,m(c)?c:arguments);return b},uc:function(b,c){this.af=n(!0,{},b.af,this.af);void 0==this.Je&&
(this.Je=[]);this.Je.push(this.U);void 0==this.Xa&&(this.Xa="|");this.Xa+=this.U+"|";return arguments},aj:function(){h=!0;var b=new this;h=!1;return b},extend:function(b,l,m){function p(){if(!h)try{return this.constructor!==p&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.a.Ji.apply(this.a,arguments)}catch(b){return _DBG_(printStackTrace({Ma:b})),null}}"string"!=typeof b&&(m=l,l=b,b=null);m||(m=l,l=null);m=m||{};var u=this.prototype,x,w,t,C;this.mc=function(b){return-1!=
this.Xa.indexOf("|"+b+"|")};h=!0;C=new this;h=!1;c(m,u,C);for(x in this)this.hasOwnProperty(x)&&(p[x]=f(this[x]));c(l,this,p);b&&(u=b.split(/\./),w=u.pop(),x="",0<u.length&&(t=x=q.gb(u.join("."),window,!0)),x[w]=p);n(p,{prototype:C,Ll:t,Xf:w,constructor:p,U:b});p.prototype.a=p.prototype.constructor=p;w=p.uc.apply(p,[this].concat(k(arguments)));p.f&&p.f.apply(p,w||[]);return p}});q.prototype.Pe=q.Pe})(D);
D.l=D.a("h5c3.Base",{e:"0.4.3",xj:0,ne:"WARN",ae:"DEBUG",ce:"ERROR",fe:"INFO",log:function(b,c,f){var h=GEI("waConsoleLog"),k="";b&&(k=":"+b);b=[this.U+k+"\t\t ["+c+"] \t\t"].concat(Array.prototype.slice.call(f));VLD(h)&&(h.value+=b+"\n",h.scrollTop=h.scrollHeight);window.console.log.apply(console,b)},warn:function(b){this.log(null,this.ne,b)},debug:function(b){this.log(null,this.ae,b)},error:function(b){this.log(null,this.ce,b)},info:function(b){this.log(null,this.fe,b)},assert:function(b,c){if(!c)throw b;
}},{O:0,C:null,f:g(),uc:function(){this.O=this.a.xj++;this.C=this.a.U+":"+this.O},pl:y("C"),hi:y("C"),warn:function(){this.a.log(this.O,this.a.ne,arguments)},debug:function(){this.a.log(this.O,this.a.ae,arguments)},error:function(){this.a.log(this.O,this.a.ce,arguments)},info:function(){this.a.log(this.O,this.a.fe,arguments)},toString:function(){return this.a.U+" [id: "+this.O+"]"}});
D.J=D.l.extend("h5c3.Device",{g:"Device",e:"1.1.0",rc:0,Eb:!1,sd:!1,rd:!1,qc:!1,od:!1,kb:!1,oi:!1,ni:!1,qi:!1,pi:!1,ii:0,Id:null,ld:!1,Re:!1,Qe:!1,Se:!1,f:function(){this.rc=window.devicePixelRatio||1;this.Eb=-1!=navigator.userAgent.toLowerCase().indexOf("iphone");this.qc=-1!=navigator.userAgent.toLowerCase().indexOf("ipod");this.sd=2==this.rc&&this.Eb;this.rd=-1!=navigator.userAgent.toLowerCase().indexOf("ipad");this.od=-1!=navigator.userAgent.toLowerCase().indexOf("android");this.oi=-1!=navigator.userAgent.toLowerCase().indexOf("firefox");
this.ni=-1!=navigator.userAgent.toLowerCase().indexOf("chrome");this.qi=-1!=navigator.userAgent.toLowerCase().indexOf("opera");this.kb="undefined"!==window.ontouchstart;this.tf=this.Eb||this.rl||this.qc;void 0!=window.performance&&(this.ld=window.performance.memory);/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(this.ii=new Number(RegExp.$1),this.pi=!0);var b=new Audio;b.canPlayType("audio/ogg")&&(this.Re=!0);b.canPlayType("audio/mpeg")&&(this.Qe=!0);b.canPlayType("audio/x-wav")&&(this.Se=!0);this.Id=
function(){var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,16,Date.now())};return function(f,h){b.apply(window,[f,h])}}()},aa:function(b){return"mp3"===b.toLowerCase()&&this.Qe||"ogg"===b.toLowerCase()&&this.Re||"wav"===b.toLowerCase()&&this.Se?!0:!1},nf:function(){return this.ld?window.performance.memory.usedJSHeapSize:0},ol:function(){return this.ld?
window.performance.memory.totalJSHeapSize:0}},{});D.og=D.l.extend("h5c3.HashList",{g:"HashList",e:"0.4.4"},{Cb:null,f:function(){this.Cb=new D.N},add:function(b,c){var f=this.Cb.get(b);null==f&&(f=new pc.ga,this.Cb.put(b,f));f.add(c)},remove:function(b,c){var f=this.Cb.get(b);if(null==f)throw"No list for a key in hashlist when removing";f.remove(c)},get:function(b){return this.Cb.get(b)}});
D.N=function(){function b(c){if("string"==typeof c)return c;if(typeof c.hi==p)return c=c.C,"string"==typeof c?c:b(c);if(typeof c.toString==p)return c.toString();try{return String(c)}catch(f){return Object.prototype.toString.call(c)}}function c(b,c){return b.cd(c)}function f(b,c){return typeof c.cd==p?c.cd(b):b===c}function h(b){return function(c){if(null===c)throw Error("null is not a valid "+b);if("undefined"==typeof c)throw Error(b+" must not be undefined");}}function k(b,c,f,h){this[0]=b;this.T=
[];this.Ke(c,f);null!==h&&(this.mf=function(){return h})}function l(b){return function(c){for(var f=this.T.length,h,k=this.mf(c);f--;)if(h=this.T[f],k(c,h[0]))switch(b){case z:return!0;case v:return h;case u:return[f,h[1]]}return!1}}function m(b){return function(c){for(var f=c.length,h=0,k=this.T.length;h<k;++h)c[f+h]=this.T[h][b]}}function n(b,c){var f=b[c];return f&&f instanceof k?f:null}var p="function",q=typeof Array.prototype.splice==p?function(b,c){b.splice(c,1)}:function(b,c){var f,h,k;if(c===
b.length-1)b.length=c;else for(f=b.slice(c+1),b.length=c,h=0,k=f.length;h<k;++h)b[c+h]=f[h]},s=h("key"),B=h("value"),z=0,v=1,u=2;k.prototype={mf:function(b){return typeof b.cd==p?c:f},lf:l(v),Yh:l(u),cj:function(b){return(b=this.Yh(b))?(q(this.T,b[0]),b[1]):null},Ke:function(b,c){this.T[this.T.length]=[b,c]},keys:m(0),Bc:m(1),ad:l(z),Ye:function(b){for(var c=this.T.length;c--;)if(b===this.T[c][1])return!0;return!1}};return function(c,f){function h(b){return function(){for(var c=[],f=m.length;f--;)m[f][b](c);
return c}}var l=this,m=[],u={},v=typeof c==p?c:b,z=typeof f==p?f:null;this.put=function(b,c){s(b);B(c);var f=v(b),h,l=null;(h=n(u,f))?(f=h.lf(b))?(l=f[1],f[1]=c):h.Ke(b,c):(h=new k(f,b,c,z),m[m.length]=h,u[f]=h);return l};this.get=function(b){s(b);var c=v(b);if(c=n(u,c))if(b=c.lf(b))return b[1];return null};this.ad=function(b){s(b);var c=v(b);return(c=n(u,c))?c.ad(b):!1};this.Ye=function(b){B(b);for(var c=m.length;c--;)if(m[c].Ye(b))return!0;return!1};this.clear=function(){m.length=0;u={}};this.keys=
h("keys");this.Bc=h("values");this.T=h("getEntries");this.remove=function(b){s(b);var c=v(b),f=null,h=n(u,c);if(h&&(f=h.cj(b),null!==f&&!h.T.length)){a:{for(b=m.length;b--;)if(h=m[b],c===h[0])break a;b=null}q(m,b);delete u[c]}return f};this.size=function(){for(var b=0,c=m.length;c--;)b+=m[c].T.length;return b};this.hc=function(b){for(var c=l.T(),f=c.length,h;f--;)h=c[f],b(h[0],h[1])};this.toString=function(){for(var b="",c=this.keys(),f=0;f<c.length;f++)var h=this.get(c[f]),b=b+(c[f].toString()+" = "+
h.toString()+"\n");return b}}}();D.ug=D.l.extend("h5c3.LinkedNode",{e:"0.1.0"},{j:null,A:null,B:null,Na:!0,f:function(){this.m()},next:y("A"),object:y("j"),om:y("B")});
D.ga=D.l.extend("h5c3.LinkedList",{g:"LinkedList",e:"0.1.0"},{first:null,ca:null,count:0,Cd:null,f:function(){this.m();this.Cd=new D.N},Ab:function(b){return this.Cd.get(b.C)},ph:function(b){var c=new D.ug;c.j=b;c.B=null;c.A=null;c.Na=!1;this.Cd.put(b.C,c);return c},add:function(b){var c=this.Ab(b);if(null==c)c=this.ph(b);else{if(!1===c.Na)throw"Attempting to add object: "+b.C+" twice to list "+this.C;c.j=b;c.Na=!1;c.A=null;c.B=null}if(null==this.first)this.ca=this.first=c,c.A=null,c.B=null;else{if(null==
this.ca)throw"Hmm, no last in the list -- that shouldn't happen here";this.ca.A=c;c.B=this.ca;this.ca=c;c.A=null}this.count++;this.Pd&&this.sa("after add")},Bb:function(b){b=this.Ab(b);return!(null===b||!0===b.Na)},Gi:function(b){this.sa("before move up");b=this.Ab(b);if(!b)throw"Oops, trying to move an object that isn't in the list";if(null!=b.B){var c=b.B,f=c.B;b==this.ca&&(this.ca=c);var h=b.A;f&&(f.A=b);b.A=c;b.B=c.B;c.A=h;c.B=b;this.first==c&&(this.first=b)}},Jl:function(b){b=this.Ab(b);if(!b)throw"Oops, trying to move an object that isn't in the list";
if(null!=b.A){var c=b.A;this.Gi(c.j);this.ca==c&&(this.ca=b)}},sort:function(b){for(var c=[],f=this.first;f;)c.push(f.object()),f=f.next();this.clear();c.sort(b);for(b=0;b<c.length;b++)this.add(c[b])},remove:function(b){this.Pd&&this.sa("before remove of "+b);b=this.Ab(b);if(null===b||!0===b.Na)return!1;null!=b.B&&(b.B.A=b.A);null!=b.A&&(b.A.B=b.B);null==b.B&&(this.first=b.A);null==b.A&&(this.ca=b.B);b.Na=!0;b.B=null;b.A=null;this.count--;this.Pd&&this.sa("after remove");return!0},clear:function(){for(var b=
this.first;null!=b;)b.Na=!0,b=b.A;this.first=null;this.count=0},length:y("count"),sa:function(b){_DBG_("===================="+b+"=====================",this.a);for(b=this.first;null!=b;)_DBG_("{"+b.j.toString()+"} previous="+(b.B?b.B.j:"NULL"),this.a),b=b.next();b="Last: {"+(this.ca?this.ca.j:"NULL")+"} First: {"+(this.first?this.first.j:"NULL")+"}";_DBG_("===================================",this.a);_DBG_(b,this.a)}});
D.Yj=D.l.extend("h5c3.PerformanceMeasure",{g:"PerformanceMeasure",e:"0.1.0",history:[],Ik:function(){history.length=0}},{Zf:0,timeEnd:0,Jm:0,zd:0,yd:0,xd:0,description:null,f:function(b){this.description=b;this.start();this.a.history.push(this)},start:function(){this.Zf=Date.now();this.zd=D.J.nf()},end:function(){this.timeEnd=Date.now();this.uj=this.timeEnd-this.Zf;this.yd=D.J.nf();this.xd=this.yd<this.zd?0:this.yd-this.zd;return this.toString()},toString:function(){return this.description+" took "+
this.uj+"ms, "+(0==this.xd?"unknown":this.xd)+" byte(s)"}});
D.ka=D.l.extend("h5c3.Pool",{g:"Pool",e:"0.1.0",ge:1,Ia:new D.N,zc:0,Nm:0,Ja:function(b){var c=this.hb(b);if(void 0==c||null==c)c=new D.ka(b,this.ge),this.Ia.put(b.U,c);return c.Ja()},xa:function(b){var c=this.Ia.get(b.a.U);if(void 0==c)throw"Oops, trying to release an object of type "+b.a.U+" but no pool exists. Did you new an object instead of using create.";c.xa(b)},hb:function(b){return this.Ia.get(b.U)},kc:function(){for(var b="",c=this.Ia.keys(),f=0;f<c.length;f++)var h=c[f],k=this.Ia.get(h),
b=b+(h+": "+k.kc()+"\n");return b}},{w:null,expansion:1,Ba:null,f:function(b,c){this.m();this.Zc=b;this.w=[];this.expand(c)},Em:function(){this.Nb||(this.Nb=!0,this.Ba?this.Ba.clear():this.Ba=new D.N)},Gm:function(){this.Nb=!1},expand:function(b){D.ka.zc+=b;for(var c=0;c<b;c++)this.w.push(new this.Zc)},kl:function(){return this.w.length},Ja:function(){0>=this.w.length&&(this.expansion=Math.round(1.2*this.expansion)+1,this.expand(this.expansion));if(this.Nb){for(var b=printStackTrace(),c=b.length-
1;0==b[c].indexOf("Class.addTo")&&0<c;)c--;var f=this.Ba.get(b[c]);null==f?this.Ba.put(b[c],{value:1}):f.value++}return this.w.pop()},xa:function(b){this.w.push(b)},kc:function(){var b=this.a.U+" stats: "+this.w.length+" free.";if(this.Nb){var b=b+"TRACING\n",c=this.Ba.keys(),f;for(f in c)b+=c[f]+" ("+this.Ba.get(c[f]).value+")\n"}return b},sa:function(b){this.info("================== "+b+" ===================");this.info("FREE");this.w.sa()},size:function(){return this.w.length},ll:y("w")});
D.Sb=D.ka.extend("h5c3.DualPool",{g:"DualPool",e:"0.1.0",Ja:function(b){var c=this.hb(b);if(void 0==c||null==c)c=new D.Sb(b,this.ge),this.Ia.put(b.U,c);return c.Ja()},kc:function(){for(var b="",c=this.Ia.keys(),f=0;f<c.length;f++)var h=c[f],k=this.Ia.get(h),b=b+(h+" (free: "+k.w.length()+" used: "+k.Ua.length()+")\n");return b}},{w:null,Ua:null,f:function(b,c){this.Zc=b;this.Ua=new D.ga;this.w=new D.ga;this.expand(c)},expand:function(b){D.ka.zc+=b;for(var c=0;c<b;c++)this.w.add(new this.Zc)},Ib:null,
Ja:function(){null==this.w.first&&this.expand(Math.round(this.size()/5)+1);this.Ib=this.w.first.j;this.w.remove(this.Ib);this.Ib.bf=!1;this.Ua.add(this.Ib);if(this.Nb){for(var b=printStackTrace(),c=b.length-1;0==b[c].indexOf("Class.addTo")&&0<c;)c--;var f=this.Ba.get(b[c]);null==f?this.Ba.put(b[c],{value:1}):f.value++}return this.Ib},xa:function(b){this.w.add(b);this.Ua.remove(b)},sa:function(b){this.info("================== "+b+" ===================");this.info("FREE");this.w.sa();this.info("USED");
this.Ua.sa()},size:function(){return this.w.count+this.Ua.count},ql:y("Ua")});D.Kc=D.l.extend("h5c3.Pooled",{g:"Pooled",e:"0.1.0",create:function(){return D.ka.Ja(this)},hb:function(){return D.ka.hb(this)}},{bf:!1,f:function(){this.m()},xa:function(){D.ka.xa(this)},Ti:g()});D.Mj=D.l.extend("h5c3.DualPooled",{g:"DualPooled",e:"0.1.0",create:function(){return D.Sb.Ja(this)},hb:function(){return D.Sb.hb(this)}},{bf:!1,f:function(){this.m()},xa:function(){D.Sb.xa(this)},Ti:g()});D.Vk={};D.km=new D.N;
D.fa=new D.N;D.We=new D.N;_DBG_(D.xc()+" loaded.",D);
D.jg=D.l.extend("h5c3.ErrorHandler",{g:"ErrorHandler",e:"0.1.0",xc:function(){return this.g+" v"+this.e}},{Ra:!1,ef:null,Fa:!1,total:0,Dh:!1,Ea:null,La:!1,fc:!1,Ch:!1,Va:"",sb:"",f:function(){this.m();DOC().addEventListener("H5C3Error",D.bind(this,this.Pi),!1);_DBG_("Listening.",this.a);this.Ra=!0},reset:function(){this.total=0;this.Dh=!1;this.Ea=-1;this.La="";this.fc=!1;this.Ch=""},bg:function(b){"undefined"!==typeof b.g&&(b.Xa?(this.Va=b.U+"-"+b.e,this.sb=b.Xa):(this.Va=b.g+"-"+b.e,this.sb="h5c3"));
this.Va=String.prototype.Hf(this.Va,30);this.sb=String.prototype.Hf(this.sb,50)},Aj:function(b){switch(b.length){case 1:D.qd(b[0])?(this.Ea=0,this.La=b[0]):D.isArray(b[0])?(this.Ea=1,$tmp=b[0].pop(),this.La="undefined"===typeof $tmp.message?$tmp.toString():$tmp.message,this.fc=b[0],this.bg(b.callee.caller)):D.pd(b[0])?this.Ea=2:D.oc(b)?this.Ea=3:D.ia(b)&&(this.Ea=4);break;case 2:D.qd(b[0])&&(D.pd(b[1])||D.oc(b[1])||D.ia(b[1]))&&(this.Ea=0,this.bg(b[1]),this.La=b[0])}},Bj:g(),nm:function(){return'<a href="mailto:support@i2tmlabs.com?subject=H5C3%20Error%20Report&body=What:'+
this.Va+"\nError:"+this.La+"\nTrace:"+this.fc.toString()+"\nDistro:"+D.xc()+'\n">Is this our fault? Send It!</a>'},display:function(){switch(this.Ea){case 0:console.log("411:%c%s %s > %s","color: green;",this.Va,this.sb,this.La);break;case 1:console.error("911:%cOH SNAP! - Sucks to be you right now.\n%s %s > %s\n%O","color: red;",this.Va,this.sb,this.La,this.fc)}},Pi:function(b){this.Fa=!1;this.reset();this.ef=b.arguments;this.Aj(this.ef);this.display();this.Fa=!0}});D.Kh=new D.jg;
D.hg=D.l.extend("h5c3.Brand",{g:"Brand",e:"0.0.2"},{f:function(){this.m();this.Xi()},update:function(){$("#h5c3built").text(D.fg);$("#h5c3version").text(D.Rb+"-"+D.VERSION);!0===D.ba?$("#h5c3version").W("color","#FF0000"):$("#h5c3version").W("color","#ddffdd")},Xi:function(){var b;b='<style id="h5c3-logo">#h5c3_logo {font-size:1em;display: block;}#hlmc {position: relative;display:block;top:0px;left:0px;width:100%;height:100%;font-family: Neuropol, sans-serif;text-transform: uppercase;text-align: center;\tpadding-top:6.25%;}#h5c3_logo .c_H { display:inline; font-size: 100%; color: #e98900; }#h5c3_logo .c_5 { display:inline; font-size: 50%; color: #e98900; }#h5c3_logo .c_C { display:inline; font-size: 100%; color: #000beb; }#h5c3_logo .c_3\t{ display:inline; font-size: 50%; color: #000beb; }#h5c3_logo .w_FW { display:block; font-size: 42%; color: #444444;}</style>\n';
b+='@charset "UTF-8";#i2tm_logo{font-size:3em;display:block;}#i2tm_logo .w_IL{display:inline;font-size:100%;color:#00cc00;}';b+="#ilmc {position:relative;display:block;top:0px;left:0px;width:100%;height:100%;font-family:Neuropol,sans-serif;text-transform:uppercase;text-align:center;padding-top:6.25%;}</style>\n";D.Z.add("brand-logos",b,"R2WL")},El:function(b){b=CHK(b,3);$("#i2tm_logo").W("font-size",b+"em");return'<div id="i2tm_logo" data-role="applet"><div id="ilmc"><div class="w_il backlight">i2tm Labs</div></div></div>\n'},
Dl:function(b){b=CHK(b,3);$("#h5c3_logo").W("font-size",b+"em");return'<div id="h5c3_logo" class="animateIn" data-role="applet"><div id="hlmc"><div class="c_H emboss backlight">H</div><div class="c_5 emboss backlight">5</div><div class="c_C emboss backlight">C</div><div class="c_3 emboss backlight">3</div><div class="w_FW emboss backlight">framework</div></div></div>\n'},lm:function(){return'<span style="font-size:0.5em;color:'+(D.ba?"red":"green")+';letter-spacing:0.20em">Powered By '+D.xc()+"</span>"},
r:function(){_DBG_("Brand Ready.",this.a);this.update()}});
D.sg=D.l.extend("h5c3.LZW",{g:"LZW",e:"1.0.0"},{f:function(){this.m()},Jh:function(b){var c={};b=(b+"").split("");for(var f=[],h,k=b[0],l=256,m=1;m<b.length;m++)h=b[m],null!=c[k+h]?k+=h:(f.push(1<k.length?c[k]:k.charCodeAt(0)),c[k+h]=l,l++,k=h);f.push(1<k.length?c[k]:k.charCodeAt(0));for(m=0;m<f.length;m++)f[m]=String.fromCharCode(f[m]);return f.join("")},Fh:function(b){var c={};b=(b+"").split("");for(var f=b[0],h=f,k=[f],l=256,m,n=1;n<b.length;n++)m=b[n].charCodeAt(0),m=256>m?b[n]:c[m]?c[m]:h+f,
k.push(m),f=m.charAt(0),c[l]=h+f,l++,h=m;return k.join("")}});
D.Ig=D.l.extend("h5c3.Tools",{g:"Tools",e:"0.5.6",sh:function(b,c){for(var f=b.length-1;0<=f;f--)b[f]==c&&b.splice(f,1)},Dk:function(b,c){-1==b.indexOf(c)&&b.push(c)},Il:function(b,c){function f(b,c){c.type=b.nodeName;var h=b.childNodes;if(null!=h&&h.length){c.content=[];for(var n=0;n<h.length;n++)3==h[n].nodeType?c.content.push(h[n].nodeValue):(c.content.push({}),f(h[n],c.content[c.content.length-1]))}if(null!=b.attributes&&b.attributes.length)for(c.attributes={},n=0;n<b.attributes.length;n++)c.attributes[b.attributes[n].nodeName]=
b.attributes[n].nodeValue}var h={};"string"===typeof b&&(window.DOMParser?(parser=new DOMParser,docNode=parser.parseFromString(b,"text/xml")):(docNode=new ActiveXObject("Microsoft.XMLDOM"),docNode.async=!1,docNode.loadXML(b)),b=docNode.firstChild);f(b,h);return c?JSON.stringify(h):h},Xm:function(b,c){var f={Mb:function(b){var c={};if(1==b.nodeType){if(b.attributes.length)for(var h=0;h<b.attributes.length;h++)c[b.attributes[h].nodeName]=(b.attributes[h].nodeValue||"").toString();if(b.firstChild){for(var n=
h=0,p=!1,q=b.firstChild;q;q=q.nextSibling)1==q.nodeType?p=!0:3==q.nodeType&&q.nodeValue.match(/[^ \f\n\r\t\v]/)?h++:4==q.nodeType&&n++;if(p)if(2>h&&2>n)for(f.Hd(b),q=b.firstChild;q;q=q.nextSibling)3==q.nodeType?c["#text"]=f.escape(q.nodeValue):4==q.nodeType?c["#cdata"]=f.escape(q.nodeValue):c[q.nodeName]?c[q.nodeName]instanceof Array?c[q.nodeName][c[q.nodeName].length]=f.Mb(q):c[q.nodeName]=[c[q.nodeName],f.Mb(q)]:c[q.nodeName]=f.Mb(q);else b.attributes.length?c["#text"]=f.escape(f.Db(b)):c=f.escape(f.Db(b));
else if(h)b.attributes.length?c["#text"]=f.escape(f.Db(b)):c=f.escape(f.Db(b));else if(n)if(1<n)c=f.escape(f.Db(b));else for(q=b.firstChild;q;q=q.nextSibling)c["#cdata"]=f.escape(q.nodeValue)}b.attributes.length||b.firstChild||(c=null)}else 9==b.nodeType?c=f.Mb(b.documentElement):alert("unhandled node type: "+b.nodeType);return c},Ud:function(b,c,h){var n=c?'"'+c+'"':"";if(b instanceof Array){for(var p=0,q=b.length;p<q;p++)b[p]=f.Ud(b[p],"",h+"\t");n+=(c?":[":"[")+(1<b.length?"\n"+h+"\t"+b.join(",\n"+
h+"\t")+"\n"+h:b.join(""))+"]"}else if(null==b)n+=(c&&":")+"null";else if("object"==typeof b){p=[];for(q in b)p[p.length]=f.Ud(b[q],q,h+"\t");n+=(c?":{":"{")+(1<p.length?"\n"+h+"\t"+p.join(",\n"+h+"\t")+"\n"+h:p.join(""))+"}"}else n="string"==typeof b?n+((c&&":")+'"'+b.toString()+'"'):n+((c&&":")+b.toString());return n},Db:function(b){var c="";if("innerHTML"in b)c=b.innerHTML;else{var f=function(b){var c="";if(1==b.nodeType){for(var c=c+("<"+b.nodeName),h=0;h<b.attributes.length;h++)c+=" "+b.attributes[h].nodeName+
'="'+(b.attributes[h].nodeValue||"").toString()+'"';if(b.firstChild){c+=">";for(h=b.firstChild;h;h=h.nextSibling)c+=f(h);c+="</"+b.nodeName+">"}else c+="/>"}else 3==b.nodeType?c+=b.nodeValue:4==b.nodeType&&(c+="<![CDATA["+b.nodeValue+"]]\x3e");return c};for(b=b.firstChild;b;b=b.nextSibling)c+=f(b)}return c},escape:function(b){return b.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},Hd:function(b){b.normalize();for(var c=b.firstChild;c;)if(3==c.nodeType)if(c.nodeValue.match(/[^ \f\n\r\t\v]/))c=
c.nextSibling;else{var h=c.nextSibling;b.removeChild(c);c=h}else 1==c.nodeType&&f.Hd(c),c=c.nextSibling;return b}};9==b.nodeType&&(b=b.documentElement);var h=f.Ud(f.Mb(f.Hd(b)),b.nodeName,"\t");return"{\n"+c+(c?h.replace(/\t/g,c):h.replace(/\t|\n/g,""))+"\n}"}},{});D.wj=new D.Ig;
D.xg=D.l.extend("h5c3.Media",{g:"Media",e:"0.7.7",ab:{name:"Unknown",version:"Unknown"},Wb:{name:"Unknown",version:"Unknown"},f:function(){this.ab.name=this.Nd(this.Eh)||"Unknown";this.ab.version=this.Tf(navigator.userAgent)||this.Tf(navigator.appVersion)||"Unknown";this.Wb.name=this.Nd(this.$e)||"Unknown";this.Wb.version=this.Nd(this.$e)||"Unknown"},Nd:function(b){for(var c=0;c<b.length;c++){var f=b[c].s,h=b[c].Zi;this.ag=b[c].Ob||b[c].q;if(f){if(-1!=f.indexOf(b[c].t))return b[c].q}else if(h)return b[c].q}},
Tf:function(b){var c=b.indexOf(this.ag);if(-1!=c)return parseFloat(b.substring(c+this.ag.length+1))},Eh:[{s:navigator.userAgent,t:"Chrome",q:"Chrome"},{s:navigator.userAgent,t:"OmniWeb",Ob:"OmniWeb/",q:"OmniWeb"},{s:navigator.vendor,t:"Apple",q:"Safari",Ob:"Version"},{s:navigator.vendor,t:"iCab",q:"iCab"},{s:navigator.vendor,t:"KDE",q:"Konqueror"},{s:navigator.userAgent,t:"Firefox",q:"Firefox"},{s:navigator.vendor,t:"Camino",q:"Camino"},{s:navigator.userAgent,t:"Netscape",q:"Netscape"},{s:navigator.userAgent,
t:"MSIE",q:"Explorer",Ob:"MSIE"},{s:navigator.userAgent,t:"Gecko",q:"Mozilla",Ob:"rv"},{s:navigator.userAgent,t:"Mozilla",q:"Netscape",Ob:"Mozilla"},{Zi:window.opera,q:"Opera"}],$e:[{s:navigator.platform,t:"Win64",q:"Windows 64Bit"},{s:navigator.platform,t:"WOW64",q:"Windows 64Bit"},{s:navigator.platform,t:"Win32",q:"Windows 32Bit"},{s:navigator.platform,t:"x86_64",q:"Windows 64Bit"},{s:navigator.platform,t:"x86-64",q:"Windows 64Bit"},{s:navigator.platform,t:"x64;",q:"Windows 64Bit"},{s:navigator.platform,
t:"x64_64",q:"Windows 64Bit"},{s:navigator.platform,t:"Win64",q:"Windows 64Bit"},{s:navigator.platform,t:"Mac",q:"Macintosh"},{s:navigator.userAgent,t:"iPhone",q:"iPhone/iPod"},{s:navigator.platform,t:"Linux",q:"Linux"},{s:navigator.platform,t:"Android",q:"Android"}]},{});
D.ee=D.l.extend("h5c3.Hashmap",{g:"Hashmap",e:"0.5.7"},{length:0,Ga:{},put:function(b,c){if(!VLD(b))throw"invaid key";this.Ga[b]=c;this.length++},get:function(b){return this.Ga[b]},gi:function(b){return this.Ga.hasOwnProperty(b)},remove:function(b){this.gi(b)&&(this.length--,delete this.Ga[b])},keys:function(){var b,c=[];for(b in this.Ga)c.push(b);return c},Bc:function(){var b,c=[];for(b in this.Ga)c.push(this.Ga[b]);return c},clear:function(){this.Ga={};this.length=0}});
D.wg=D.l.extend("h5c3.LocalStorage",{g:"LocalStorage",e:"0.1.0"},{F:{},appName:"",pb:!1,f:function(){this.m();this.isSupported()&&(Storage.prototype.lj=function(b){var c=$use;b=JSON.stringify(b);this.setItem(c,b)},Storage.prototype.gb=function(b){b=this.getItem(b);return $tmp2=JSON.parse(b)},this.appName=(new String(config.yb.name.split(" ").join(""))).Wc(),localStorage.getItem(this.appName)||(this.set("firstVisit",!0,!0),this.set("firstVisitTime",Date.now(),!0),this.set("firstVisit",!0),this.set("firstVisitTime",
Date.now())),this.load())},isSupported:function(){var b="Checking for Local Storage Support...";"undefined"!==typeof Storage?(b+="Supported.",this.pb=!0):(b+="Not Supported.",this.pb=!1);_DBG_(b,this.a);return this.pb},load:function(){this.F.global=localStorage.gb("global");this.F[this.appName]=localStorage.gb(this.appName)},remove:function(b){this.pb&&($use=$global?"global":this.appName,localStorage.removeItem(b))},get:function(b,c){if(this.pb){$use=c?"global":this.appName;$use in this.F||(this.F[$use]=
{});if(b in this.F[$use])return this.F[$use][b];$use=c?this.appName:"global";if(!c&&b in this.F)return this.F[$use][b]}return null},set:function(b,c,f){if(this.pb)return $use=f?"global":this.appName,D.oc(this.F)||(this.F={}),$use in this.F||(this.F[$use]={}),this.F[$use][b]=c,localStorage.lj(this.F[$use]),this.F[$use][b]}});
D.Qb=function(b,c,f,h){function k(){n++>=l?h(l,n):(f(l,n,c),window.setTimeout(k,m-((new Date).getTime()-p-n*m)))}0>=b&&(b=864E5);0>=c&&(c=1);var l=b/100*(c/10),m=b/l,n=0,p=(new Date).getTime();window.setTimeout(k,m)};D.Hj=function(b,c){if(VLD(c))return window.setTimeout(c,b)};D.Pj=D.Kc.extend("h5c3.Applet",{g:"FactoryWorker",e:"0.1.3",pk:0,create:function(b){var c=this.m();return c.parse(b)?c:c.name}},{});
D.de=D.l.extend("h5c3.Factory",{g:"Factory",e:"1.3.6"},{Ni:g(),Gb:{},nd:0,count:0,f:function(b,c){this.m();this.gf=b;this.ij(c);_DBG_(b+" Factory Initialized.",this.a)},ij:function(b){b*=1E3;this.nd!=b&&(0===b?_DBG_("Life Span is now indefinite.",this.a):_DBG_("Life Span is set to "+this.nd+" seconds.",this.a),this.nd=b)},create:g(),add:function(b,c){if(VLD(c))return this.Gb[b]=c,this.count++,this.Gb[b];_DBG_("You cannot add ["+b+"] which is null or undefined to the ["+this.gf+"] store",this.a)},
remove:function(b){if(this.ff(b))try{delete this.Gb[b],this.count--,0>this.count&&(this.count=0)}catch(c){AST(null,"No object ["+b+" exists in ["+this.gf+"] store to remove.")}},ff:function(b){return this.Gb.hasOwnProperty(b)?!0:!1},Ac:function(b){null!=typeof b&&"object"===typeof b?b=this.ff(b.name)?this.Gb[b.name]:this.create(b):(this.info("Factory::use(object) - No longer takes 2 params, use object format."),b=null);return b}});
D.Zj=D.l.extend("h5c3.Plugin",{g:"Plugin",e:"0.5.9"},{Jc:"Plugin",VERSION:"0.1.0",Jj:"Base class for all plugins.",Dm:"js/",um:[],Vd:[],f:function(){this.m();_DBG_("Initializing.",this.a);this.Tg()},Tg:function(){_DBG_("Loading Plugin "+this.Jc+" v"+this.VERSION,this.a);if(VLD(this.Vd)&&0<this.Vd.length)for(var b=0,b=0;b<$this.Vd.length;b++)this.add($scripts[b]);else _DBG_("No external files used by plugin.",this.a);_DBG_("Complete.",this.a)},Fl:g(),Fa:g()});
D.vg=D.l.extend("h5c3.Loader",{g:"Loader",e:"0.6.3"},{ub:{le:0,LOADING:1,Bg:2,kg:3},vj:null,I:new D.N,Fb:null,ud:null,ea:0,Ta:0,ma:0,Me:"",Lb:{start:0,end:0,vi:0},S:!1,Ph:!0,Be:"",f:function(){this.m();_DBG_("Loader timer started.",this.a);this.vj=new D.Qb(-1,0.5,function(){D.M.start()},function(){_DBG_("Loader timer stopped.",this.a)})},Uf:function(){this.Be="?nocache="+Date.now()},tc:r("Me"),jj:function(b,c){this.Fb=b;this.ud=c},Al:function(b){var c=null,f=b.substr(b.lastIndexOf(".")+1);"js"===
f?(c=document.createElement("script"),c.setAttribute("type","text/javascript"),c.setAttribute("src",b)):"css"===f?(c=document.createElement("link"),c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",b)):"html"===f&&(c=document.createElement("applet"),c.setAttribute("type","text/html"),c.setAttribute("href",b));"undefined"!==c&&document.getElementsByTagName("head")[0].appendChild(c)},add:function(b){b.name=b.name.toLowerCase();this.I.put(b.name.toLowerCase(),
{Jd:b,state:this.ub.le});_DBG_("Adding resource "+b.src+" to the queue.",this.a)},get:function(b){var c=this.I.get(b.toLowerCase());VLD(c)||(this.error(this.C+"Unable to get resource "+b+". Did you forget to add it to the config?"),c=null);return c},Vh:function(){var b=[],c=this.I.keys(),f,h;for(f=0;f<c.length;f++)h=this.I.get(c[f]).Jd,h.a.mc("h5c3.Sound")&&b.push(h);return b},Zk:function(){var b=[],c=this.I.keys(),f,h;for(f=0;f<c.length;f++)h=this.I.get(c[f]),h.mc("h5c3.Image")&&b.push(h);return b},
start:function(b,c){if(!this.S){this.S=!0;this.Lb.start=(new Date).getTime();var f,h,k;this.jj(b,c);this.ma=this.ea=0;h=this.I.keys();for(f=0;f<h.length;f++)k=this.I.get(h[f]),k.state===this.ub.le&&(k.Jd.load(this.xb.bind(this),this.Da.bind(this)),k.state=this.ub.LOADING,this.Ta++);_DBG_("Loading "+this.Ta+" resource(s).",this.a)}},wd:function(b){return this.Me+b+this.Be},xb:function(b){var c=this.I.get(b.name);VLD(c)?(c.state=this.ub.Bg,this.ea++,VLD(this.Fb)&&this.Fb(Math.round(100*(this.ea/this.Ta))),
_DBG_(b.a.Xf+" - "+b.name+" loaded ("+Math.round(100*(this.ea/this.Ta))+"% done)",this.a)):this.error("Unable to get resource ["+b.name+"] - Please make sure you are using all lowercase.");this.Wa()},Da:function(b){this.I.get(b.name).state=this.ub.kg;this.ea++;this.ma++;VLD(this.Fb)&&this.Fb(this.ea/this.Ta);this.warn(b.name+" ("+b.src+") failed.");this.Wa()},Wa:function(){this.ea>=this.Ta&&(this.Lb.end=(new Date).getTime(),this.Lb.vi=this.Lb.start-this.Lb.end,this.Ph=!0,this.S=!1,VLD(this.ud)&&this.ud(this.ea,
this.ma),_DBG_("Resource Loader idle.",this.a),this.Ta=this.ma=this.ea=0)}});D.vb={Lc:0,me:1,dg:2,Ec:3};
D.ik=D.l.extend("h5c3.Throttle",{g:"Throttle",e:"0.1.0",De:D.vb.me,Jg:0,Ng:0,Ug:0,Vg:0,qe:0,we:0,Ee:null,qk:new D.N,Zb:function(b,c,f){this.Ng=this.Jg=0;this.Ug=b;this.Vg=c;this.qe=Math.floor((b+c)/2);this.we=f},lh:function(b){if(this.De!==b){b<D.vb.Lc&&(b=D.vb.Lc);b<D.vb.Ec&&(b=D.vb.Ec);this.De=b;switch(b){case THROTTLESTYLE.Lc:this.Zb(11,20,10);break;case THROTTLESTYLE.me:this.Zb(6,10,5);break;case THROTTLESTYLE.dg:this.Zb(2.6,5,2.5);break;case THROTTLESTYLE.Ec:this.Zb(0,2.5,1.25)}this.Pg()}},Pg:function(){this.mh();
this.Tc()},Tc:function(){this.Rc||(this.Ee=new D.Qb(this.we,this.qe,D.bind(this,this.hh),D.bind(this,this.ah)),this.Rc=!0)},mh:function(){this.Rc&&(delete this.Ee,this.Rc=!1)},hh:g(),ah:g()},{f:function(b){this.m();this.lh(b)},add:function(b){this.Fd.put(Date(),b)},Zl:g(),Ni:g()});
D.gg=D.l.extend("h5c3.Bootstrap",{g:"Bootstrap",e:"0.2.2"},{Xd:"",Pb:0,Yd:!1,Zd:"",Cc:[],f:function(){_DBG_("Initializing.",this.a);this.Kg();this.tc(D.path.home+D.path.scripts+"ext/");VLD(window.Ic)||this.add("modernizr.all.release.js");VLD(window.ti)||this.add("jquery/jquery-1.10.2.min.js");D.ba&&this.ei();this.Tc()},Yi:function(){D.M=new D.vg;D.xf=new D.sg;D.F=new D.wg;D.Ha=new D.tg;D.Z=new D.Gg;D.Oe=new D.hg;D.Oa=new D.mg("UA-35732532-1");D.I=new D.Cg;D.applets=new D.eg;D.M.start();_DBG_("Rich & Responsive Web Layer (R2WL) Initialized.",
this.a);$(window).load(g());$(document).Ra(g())},yh:function(){var b=GEI("waDIV"),c=b.clientWidth,b=b.clientHeight,f=D.n.screen.target.width,h=D.n.screen.target.height,k=AET();k.style.width=c+"px";k.style.height=b+"px";k.style.minWidth=c+"px";k.style.minHeight=b+"px";k.style.maxWidth=c+"px";k.style.maxHeight=b+"px";k.width=f;k.height=h;k.style.background="Black";D.n.options.Xk?(_DBG_("OPTION: Fullscreen mode enabled.",this.a),DOC().addEventListener("webkitfullscreenchange",D.bc.dh),k.webkitRequestFullScreen()):
_DBG_("OPTION: Fullscreen mode disabled.",this.a);return!0},ei:function(){VLD(D.n)?(0<D.n.files.length&&(_DBG_("Loading application files.",this.a),this.Fd(D.n.files,"assets/js/")),0<D.n.plugins.length&&(_DBG_("Loading application plugins.",this.a),this.zi(D.n.plugins,D.path.Le+D.path.plugins)),D.n.Pf||this.Fd(["game.min.js"],"assets/js/")):_DBG_("h5c3.config is not defined. Cannot load and configure properly.",this.a)},gl:function(){var b=document.location.href,b=b.substring(0,-1===b.indexOf("#")?
b.length:b.indexOf("#")),b=b.substring(0,-1===b.indexOf("?")?b.length:b.indexOf("?"));return b=b.substring(b.lastIndexOf("/")+1,b.length)},dh:function(){var b=GEI("waCANVAS");document.mozFullScreen||document.webkitIsFullScreen?(b.style.width=window.screen.width+"px",b.style.height=window.screen.height+"px"):(b.style.width=D.n.screen.width+"px",b.style.height=D.n.screen.height+"px")},Kg:function(){var b=/chrome/.test(window.navigator.userAgent.toLowerCase()),c=GEI("playnow"),f=GEI("cantplay");if(null!=
c&&null!=f){if(b)return c.style.display="block",f.style.display="none",!0;c.style.display="none";f.style.display="block";return!1}},Uf:function(){this.Zd=D.n.ba?"?nocache="+Date.now():""},tc:r("Xd"),ze:function(b){return this.Xd+b+this.Zd},add:function(b){_DBG_("Added "+b+" to download que.",this.a);this.Cc.push(this.ze(b))},Tc:function(){_DBG_("Loading source files...",this.a);this.Pb=0;this.ye()},Bl:function(b,c,f){if(!VLD(b)||""===b)return!1;b=this.ze(b);var h=DOC().createElement("script");h.type=
"application/javascript";h.src=b;h.async=!1;h.Ui=c;h.onerror=f;GET("head")[0].appendChild(h)},ye:function(){var b=this.Cc[this.Pb],c=window.document.createElement("script");c.type="application/javascript";c.src=b;c.async=!1;VLD(b)&&(c.onload=function(){D.bc.Wa()},c.onerror=function(){_DBG_("h5c3.Bootstrap::_loadNextScript() - Could not load javascript file: "+c.src)},window.document.getElementsByTagName("head")[0].appendChild(c))},Nh:function(){this.yh()?(D.c=new D.J,_DBG_("CloudApp Mode Requested...",
this.a),D.c.Ne()):_DBG_("ERROR: Something went wrong with preparing the canvas. Do you have a DIV with the ID of waCANVAS in your document?",this.a)},Qc:function(){this.Yi();D.Z.r&&D.Z.r();D.Ha.r&&D.Ha.r();D.Oe.r&&D.Oe.r();D.applets.r&&D.applets.r();D.Oa.r&&D.Oa.r();$("#OVERLAY").Mh(750,"linear",function(){$("#WRAPPER").Lh(1500,"ease-in")});"undefined"!=typeof window.ng&&window.ng(D.VERSION,window.Ic.nh,$().ui)},Wa:function(){this.Yd||(this.Cc.length-1===this.Pb?(VLD(window.Ic)&&_DBG_("Modernizr v"+
window.Ic.nh+" detected.",this.a),VLD(window.ti)&&_DBG_("jQuery v"+$().ui+" detected.",this.a),this.Qc(),this.Yd=!0,VLD(D.n.Pf)&&!1===D.n.Pf&&this.Nh(),_DBG_("H5C3 Framework successfully loaded.",this.a)):(this.Pb++,this.ye()))},Fd:function(b,c){_DBG_("que("+c+")",this.a);var f=0;this.tc(c);for(f=0;f<b.length;f++)this.add(b[f])},zi:function(b,c){_DBG_("loadPlugins("+c+")",this.a);var f=0;this.tc(c);for(f=0;f<b.length;f++)this.add(b[f]+".js")}});
D.mg=D.l.extend("h5c3.Google",{g:"Google",e:"0.1.2"},{Xb:"",enabled:!1,loaded:!1,version:"",domain:null,jf:null,f:function(b){this.jf="https:"==document.location.protocol?"https://ssl.":"http://www.";this.Xb=b;"file:"!==document.location.protocol?this.load(this.jf+"google-analytics.com/ga.js"):_DBG_("Google Integration is ready, But your running in developer mode.",this.a)},load:function(b){_DBG_("Requesting Google API.",this.a);var c=DOC().createElement("script");c.type="application/javascript";
c.src=b;c.async=!0;c.Ui=D.bind(this,this.eh);c.onerror=D.bind(this,this.Da);GET("head")[0].appendChild(c);window.setTimeout(function(){_DBG_([{Hi:"Google API, no loaded event after 5 seconds."}],this.a);D.Oa.Da()},5E3)},push:function(){!0===this.enabled?(_DBG_("Google Push.",this.a),(adsbygoogle=window.Bk||[]).push({})):ads=$(".adsbygoogle").W("background","#333")},Om:function(){if(!0==this.enabled){_DBG_("Google Track.",this.a);try{window.Oc.push(["_setAccount",this.Xb]),window.Oc.push(["_setDomainName",
document.location.host]),window.Oc.push(["_addIgnoredOrganic",document.location.host]),window.Oc.push(["_trackPageview"])}catch(b){_DBG_(printStrackTrace({Ma:e},this.a))}}},ai:function(){try{var b=_gat.nk();return VLD(this.version=b.ok())}catch(c){return _DBG_(printStrackTrace({Ma:e},this.a)),!1}},Ai:function(){_DBG_("Determining issue with Google...",this.a);var b=document.getElementsByTagName("script"),c;for(c in b)"undefined"!==typeof b[c].src&&b[c].src.split("?")[0].match(/ga\.js$/)&&(_DBG_("The Google API IS Loaded.",
this.a),this.loaded=!0,this.ai()&&(_DBG_("Google API v"+this.version+" is active.",this.a),this.enabled=!0))},eh:function(){_DBG_("Google code received.",this.a);this.Oa.loaded=!0;this.r()},Da:function(){_DBG_([{Hi:"Google code failed to load."}],this.a);D.Oa.loaded=!1;D.Oa.enabled=!1;this.Ai();D.Oa.r()},r:function(){""===this.Xb?_DBG_("You did not set your Google Unique ID in the config file.",this.a):_DBG_("Using your Google Unique ID "+this.Xb,this.a);this.enabled?_DBG_("Google communication is enabled.",
this.a):_DBG_("Google communication is NOT enabled.",this.a)}});
D.Gg=D.l.extend("h5c3.StyleSheet",{g:"Google",e:"0.1.0",kk:85,lk:16,mk:[{k:2560,ta:19},{k:1920,ta:18},{k:1600,ta:17},{k:1440,ta:16},{k:1366,ta:15},{k:1280,ta:14},{k:1024,ta:13},{k:768,ta:12},{k:480,ta:11},{k:320,ta:10}]},{Sm:!0,Vc:"",mode:2,zf:null,bj:!1,Lf:0,f:function(){this.m();this.Bh();this.Ue();this.gj();this.ki();this.zf=DOC().createElement("div")},add:function(b,c,f){""===c||40>c.length||!VLD(b)||!VLD(f)||GEI(b)||(c=$(c),$(c).data("role",f),f=DOC().createElement("style"),f.id=b,f.type="text/css",
f.innerHTML=$(c).text(),document.getElementsByTagName("head")[0].appendChild(f),_DBG_("Added Stylesheet "+b,this.a))},remove:g(),gj:function(){if(d=DOC().documentElement.dataset){if(D.Ha.si(d.Ha))return _DBG_("Valid Layout ["+d.Ha+"] detected.",this.a),this.Vc=d.Ha,"absolute-all"===this.Vc?this.Vf(window.innerWidth-400):this.Vf();_DBG_("Not a valid layout. ["+d.Ha+"]",this.a)}},ki:function(){$(window).ej(function(){clearTimeout(D.Z.Lf);D.Z.Lf=setTimeout(D.Z.jh,200)})},kh:function(){_DBG_("Window Size has changed.",
this.a);2>this.mode?($("#RIGHTBAR").W({display:"none",width:"0"}),$("#CONTENT").W({right:"0"})):($("#RIGHTBAR").W({display:"block",width:"12.5em"}),$("#CONTENT").W({right:"12.5em"}));1>this.mode?($("#LEFTBAR").W({display:"none",width:"0"}),$("#CONTENT").W({left:"0"})):($("#LEFTBAR").W({display:"block",width:"15em"}),$("#CONTENT").W({left:"15em"}))},jh:function(){_DBG_("Window resize detected.");D.Z.Ue();!0===this.bj&&D.Z.Rh()},Rh:function(){GEI("WRAPPER").style.display="none";location.reload()},Ue:function(){var b=
this.mode;721>window.innerWidth&&0!=b?this.mode=0:720<window.innerWidth&&961>window.innerWidth&&1!=b?this.mode=1:960<window.innerWidth&&1921>window.innerWidth&&2!=b?this.mode=2:1920<window.innerWidth&&3!=b&&(this.mode=3);this.mode!=b&&this.kh()},Zh:function(){var b=window.getComputedStyle(GEI("WRAPPER"),null).getPropertyValue("font-size");return fontSize=parseFloat(b)},vh:function(b){var c={vm:b,Pa:1};c.eb=this.Zh();this.zf?c.Uh=c.mb=c.Xc=c.Qd=c.fd=c.Td=c.kd=c.width=Math.floor(b/c.eb):(c.width=Math.floor(b/
c.eb),c.Uh=c.mb=(0.9*b/c.eb).toFixed(2),c.Xc=Math.floor(0.1*(c.mb-c.Pa)),c.Qd=(c.mb/6).toFixed(2),c.fd=(c.mb/4).toFixed(2),c.Td=(c.mb/3).toFixed(2),c.kd=(c.mb/2).toFixed(2));c.Te=Math.floor(0.1*(window.innerHeight/c.eb-c.Pa));c.maxHeight=(window.innerHeight/c.eb).toFixed(2);return c},r:function(){_DBG_("Stylesheet Ready.",this.a)},Bh:function(){var b=14,c=((window.screen.availWidth-320)/10).toFixed(2),f='<style data-role="Application">\n';for(i=window.screen.availWidth;319<i;i-=c)f+="@media all and (max-width:"+
i+"px) {body,#WRAPPER {font-size:"+b+"px;}}\n",b=(b-0.4).toFixed(2);f+="</style>\n";_DBG_("Dynamic Media Queries for ["+window.screen.availWidth+"x"+window.screen.availHeight+"] created.",this.a);this.add("Media-Queries",f,"R2WL")},Vf:function(b){VLD(b)||(b=window.innerWidth);var c=this.vh(b),f;f='<style data-role="Application">'+("body{font-size:"+c.eb+"px;width: 100%;height: 100%;}");f+=".cell{min-height:"+c.Te+"em;max-height:"+c.Te+"em;min-width:"+c.Xc+"em;max-width:"+c.Xc+"em;margin:"+c.Pa+"em}";
f+=".box{margin:"+c.Pa+"em}";f+=".lightbox{padding:"+c.Pa+"em;margin:"+c.Pa+"em}";f+=".full{min-width:"+c.width+"em;width:"+c.width+"em;margin:"+c.Pa+"em;}";f=f+".fill{min-width:100%;width:100%;min-width:100%;width:100%;margin:0em;}"+(".half{min-width:"+c.kd+"em;width:"+c.kd+"em;}");f+=".third{min-width:"+c.Td+"em;width:"+c.Td+"em;}";f+=".fourth{min-width:"+c.fd+"em;width:"+c.fd+"em;}";f+=".sixth{min-width:"+c.Qd+"em;width:"+c.Qd+"em;}";2!=this.mode?(f+=".pct100 {width:100%;}\n",f+=".pct90 {width:100%;}\n",
f+=".pct80 {width:100%;}\n",f+=".pct70 {width:100%;}\n",f+=".pct60 {width:100%;}\n",f+=".pct50 {width:100%;}\n",f+=".pct40 {width:100%;}\n",f+=".pct30 {width:100%;}\n",f+=".pct20 {width:100%;}\n",f+=".pct10 {width:100%;}\n"):(f+=".pct100 {width:"+c.width+"em;}\n",f+=".pct90 {width:"+(0.9*c.width).toFixed(2)+"em;}\n",f+=".pct80 {width:"+(0.8*c.width).toFixed(2)+"em;}\n",f+=".pct70 {width:"+(0.7*c.width).toFixed(2)+"em;}\n",f+=".pct60 {width:"+(0.6*c.width).toFixed(2)+"em;}\n",f+=".pct50 {width:"+(0.5*
c.width).toFixed(2)+"em;}\n",f+=".pct40 {width:"+(0.4*c.width).toFixed(2)+"em;}\n",f+=".pct30 {width:"+(0.3*c.width).toFixed(2)+"em;}\n",f+=".pct20 {width:"+(0.2*c.width).toFixed(2)+"em;}\n",f+=".pct10 {width:"+(0.1*c.width).toFixed(2)+"em;}\n");f+="[class*='pct'] {float:left;min-height:3em;min-width:4em}\n";f+="#waDIV {width:48em; height:27em;position:relative;}\n";f+="#waCanvas {width:100%;height:100%;}\n";f+=".h5c3_applet {width:0px;height:0px;display:none;}\n";f+="#HEADER.normal,.HEADER,#LEFTBAR.normal,.LEFTBAR,#RIGHTBAR.normal,.RIGHTBAR,#FOOTER.normal,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";
f+="#HEADER.light,.HEADER,#LEFTBAR.light,.LEFTBAR,#RIGHTBAR.light,.RIGHTBAR,#FOOTER.light,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";f+="#HEADER.dark,.HEADER,#LEFTBAR.dark,.LEFTBAR,#RIGHTBAR.dark,.RIGHTBAR,#FOOTER.dark,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";f+="#HEADER.desert,.HEADER,#LEFTBAR.desert,.LEFTBAR,#RIGHTBAR.desert,.RIGHTBAR,#FOOTER.desert,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";
f+="#HEADER.pink,.HEADER,#LEFTBAR.pink,.LEFTBAR,#RIGHTBAR.pink,.RIGHTBAR,#FOOTER.pink,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";f+="#HEADER.i2tm,.HEADER,#LEFTBAR.i2tm,.LEFTBAR,#RIGHTBAR.i2tm,.RIGHTBAR,#FOOTER.i2tm,.FOOTER { background: rgba(255, 255, 255, 0.85); color: rgba(60, 100, 190, 0.85); }\n";f+="</style>\n";_DBG_("Dynamic Stylesheet created for "+b,this.a);this.add(this.Vc,f,"R2WL")}});
D.tg=D.l.extend("h5c3.Layout",{g:"Layout",e:"0.1.0",Sg:["standard","landing","absolute-all"]},{Nl:null,f:function(){this.m()},si:function(b){return VLD(b)?arraycontainsturtles=-1<this.a.Sg.indexOf(b):!1},zm:function(b){b.Wc("-");"function"===typeof b&&this.Ej()},qm:g(),r:function(){_DBG_("Layout Ready.",this.a)},tk:function(){D.Z.add("absolute-all",$css,"Layout");var b;b='<div id="WRAPPER" data-type="application" data-layout="absolute-all">\n<div id="HEADER" ></div>\n<div id="CONTENT">\n';b+='<div id="LEFTBAR"></div>\t\n';
b+='<div id="VIEWPORT"></div>\n';b+='<div id="RIGHTBAR"></div>\n';b+="</div>\x3c!-- CONTENT --\x3e\n";b+='<div id="FOOTER"></div>\n';b+="</div>\n";$("body").append(b)}});D.ak=D.l.extend("h5c3.SmartMenu",{g:"SmartMenu",e:"0.0.1"},{cg:null,f:function(){this.m();"object"===typeof D.n.pj&&(this.cg=D.n.pj)}});
D.$d=D.Kc.extend("h5c3.Applet",{g:"Applet",e:"0.1.0",fm:{required:["role","name","version","uuid"],em:["author","copyright","scale"]},fi:!1,children:[],create:function(b){var c=this.m();return c.parse(b)?c:c.name}},{style:"",Md:"",jb:"",src:null,name:null,version:"",rb:"",Sa:"",uh:"",xh:"",Lk:0,uk:0,Ra:!1,loaded:!1,V:!1,f:function(){this.m()},yf:function(){return this.C+" : "+this.name+" v"+this.version+"("+this.rb+")"},Rf:function(b){var c=!1;"self"===b?(b=this.Dj,c=!0):b=VLD(b)?$(b):$("body");if(!VLD(b))return 0;
_DBG_("Scanning "+b[0].nodeName+" for applets...",this.a);b=$(b).find("div").filter(function(){return void 0!==$(this).data("applet")});c&&0<b.length&&(this.fi=!0);return b},Ih:function(b){$("div[data-applet='"+this.name+"']").append(b);this.V=!0;this.hj()},Pm:function(){this.V&&(this.V=!1)},compile:function(b){return D.xf.Jh(encodeURIComponent(b))},Ok:function(b){return D.xf.Fh(encodeURIComponent(b))},Wd:function(b){if(VLD(b)&&""!==b&&4==b.split("-").length-1){if("1"==b.charAt(4)&&"9"==b.charAt(17)&&
"6"==b.charAt(22)&&"9"==b.charAt(30))return!0;if("file:"===location.protocol&&D.n.ba)return console.log("Thats a bad UUID! Here is a good one "+this.jd()),!1}},jd:function(){return"xxxx1xxx-xxxx-4xx9-yxx6-xxxxxx9xxxxx".replace(/[xy]/g,function(b){var c=16*Math.random()|0;return("x"==b?c:c&3|8).toString(16)})},hj:function(){$(function(){$("#VIEWPORT").da("mousedown","div",function(){!0===this.draggable?($(this).oh("draggable"),$(this).oh("dragging").gm().da("mousemove",function(b){$(".dragging").offset({top:b.pageY-
$(".dragging").outerHeight()/2,left:b.pageX-$(".dragging").outerWidth()/2}).da("mouseup",function(){$(this).Gd("dragging")});"undefined"!=typeof b&&b.preventDefault()})):($(".draggable").Gd("draggable"),$(this).Gd("dragging"))}).da("mouseup",function(){$(".draggable").Gd("draggable")})})},parse:function(b){if(!this.Wi(b))return!1;b=$(b).Ki("comment").Ki("text");for(i=0;i<b.length;i++)"applet"===b[i].dataset.Sa&&"content"===b[i].dataset.type?this.jb=b[i].outerHTML:"applet"===b[i].dataset.Sa&&"style"===
b[i].dataset.type?this.style=b[i].outerHTML:"applet"===b[i].dataset.Sa&&"script"===b[i].dataset.type&&(this.Md=b[i].outerHTML);this.style&&D.Z.add(this.name,this.style,"Applet");this.Md&&D.Z.add(this.name,this.Md,"Applet");this.jb&&this.Ih(this.jb);return!0},Wi:function(b){this.Sa=$(b).Ka("data-role");this.name=$(b).Ka("data-name");this.version=$(b).Ka("data-version");this.rb=$(b).Ka("data-uuid");this.uh=$(b).Ka("data-author");this.xh=$(b).Ka("data-copyright");this.scale=$(b).Ka("data-scale");if(VLD(this.Sa)&&
VLD(this.name)&&VLD(this.version)&&VLD(this.rb)){$good=this.Wd(this.rb);if(!$good)return _DBG_(this.yf()+" Invalid or Not a Genuine UUID.",this.a),!1;_DBG_(this.yf()+" Validated.",this.a);return!0}return!1},Gl:function(b,c,f,h){VLD(b)||(b="applet");VLD(c)||(c="Noname");VLD(f)||(f="0.0.1");VLD(h)&&$this.Wd(h)||(h=this.jd());b="<div "+('\tdata-role="'+b+'" ')+('\tdata-name="'+c+'" ');b+='\tdata-version="'+f+'" ';b+='\tdata-uuid="'+h+'" ';b+='\tdata-author="" ';b+='\tdata-copyright="" ';b+='\tdata-scale="1" ';
return b+="/>\n"},im:function(b){return $(b).filter("style").hc(function(){D.Z.add(this.name,this.outerHTML,"Applet");return this.outerHTML.toString()})},hm:function(b){return $(b).filter("script").hc(function(){D.Z.add(this.name,this.outerHTML,"Applet");return this.outerHTML.toString()})},Tm:function(b,c){var f,h="Validating->";f=0;VLD(b.dataset.Sa)||(h+="Missing data-role->",c?(b.dataset.Sa="applet",h+="Fixed->"):f++);VLD(b.dataset.name)?""===b.dataset.name&&(h+="data-name is empty->",c?(b.dataset.name=
"GIVE_ME_A_NAME",h+="Fixed->"):f++):(h+="Missing data-name->",c?(b.dataset.name="GIVE_ME_A_NAME",h+="Fixed->"):f++);VLD(b.dataset.version)?""===b.dataset.version&&(h+="data-version is empty->",c?(b.dataset.name="0.0.1",h+="Fixed->"):f++):(h+="Missing data-version->",c?(b.dataset.version="0.0.1",h+="Fixed->"):f++);this.Wd(b.dataset.rb)||(h+="Missing data-uuid->",c?h=(b.dataset.rb=this.jd())?h+"Created UUID->":h+"Aborted: Unable to generateUUID.":f++);h=(0===f&&!0!=c?h+"PERFECT!->":h+("Failed ("+f+
") issues->"))+"Done.";return{result:f,message:h,rh:b}}});
D.eg=D.de.extend("h5c3.AppletFactory",{g:"AppletFactory",e:"0.3.1",Wh:function(b){return b&&""!=D.n.options.path?D.n.options.path+"applets/":D.path.home+D.path.applets}},{Sc:[],Ya:[],$:[],S:!1,K:{dd:0,lb:0,loaded:0,hd:0,gd:0,vd:0,sl:!1},Im:null,f:function(){this.m("Applet");var b=D.F.get("currentPage");VLD(b)&&this.Wf(b)},create:function(b){return this.Kf(b)},add:function(b,c){this.m(b,c)},reset:function(){this.$=[];this.K={dd:0,lb:0,loaded:0,hd:0,gd:0,vd:0}},stop:function(){this.S=!1},start:function(){this.S||
(this.reset(),this.S=!0)},Qi:function(){try{D.applets.Wf(this.name)}catch(b){AST(null,printStackTrace({Ma:b}))}},Wf:function(b){try{var c=D.applets.Ac({name:b});if(c){var f=c.Rf("self");for(i=0;i<f.length;i++){var h=$(f[i]).Ka("data-applet");D.applets.Ac({name:h});$("div[data-applet='"+this.name+"']").append($html)}"0"!=$("#VIEWPORT").W("opacity")&&($("#VIEWPORT").Mh(250,function(){GEI("VIEWPORT").innerHTML=c.jb;$("#VIEWPORT").Lh(250,"linear")}),D.F.set("currentPage",c.name))}}catch(k){AST(null,printStackTrace({Ma:k}))}},
Qf:function(b){var c="Scanning ",f=0,h=0,k=0;b=VLD(b)?$(b):$("body");if(""!=b[0].id){if(b=b[0].id,-1!=this.Sc.indexOf(b))return!0}else b=b[0].nodeName;c+=b+" for Links...";b=GET("a");for(i=0;i<b.length;i++)if(""!=b[i].hash){var l=b[i].hash.split(".");"#applet"==l[0]&&""!=l[1]&&(b[i].addEventListener("click",this.Qi,!1),-1===this.Sc.indexOf(l[1])?(this.$.push(l[1]),this.Sc.push(l[1]),k++):h++,b[i].name=l[1],f++)}_DBG_(c+"Found "+f+" linked applets. [Cached:"+h+", Qued:"+k+", Total:"+f+"]",this.a);
return f},Sf:function(b){var c;c=VLD(b)?!1:!0;b=D.$d.prototype.Rf(b);for(i=0;i<b.length;i++)b[i].style.display=!0===c?"block":"none",this.$.push(b[i].dataset.rh);this.K.lb=this.$.length;_DBG_("A total of "+this.K.lb+" applets were found.",this.a)},Yc:function(){_DBG_("Checking Que...",this.a);if(0>=this.$.length)return!0;2<this.$.length&&(this.$=this.$.filter(function(b,f){return D.applets.$.indexOf(b)==f}));this.K.lb=this.$.length;var b=this.$.shift();this.Kf({name:b})},Kf:function(b){if(!VLD(b))return!1;
var c="Received request for: "+b.name+"... ",f=this.Ya[b.name];if("undefined"!=typeof f)return this.K.gd++,_DBG_(c+"Found in cache. ",this.a),VLD(f.u)&&this.va(f.u),this.Yc(),!0;c+="Not cached. ";this.Ya[b.name]={name:b.name,src:this.a.Wh(1)+"applet."+b.name+".html",u:b.u};try{c+="Requesting remote transfer. ",D.oe(this.Ya[b.name].src,D.bind(this,this.va),D.bind(this,this.Qa))}catch(h){AST(null,printStackTrace({Ma:h}))}_DBG_(c,this.a)},Wa:function(){if(0>=this.$.length)return _DBG_("Load Complete. Cache: "+
this.K.gd+", Remote: "+this.K.hd+", Failed: "+this.K.dd+", Total: "+this.K.loaded,this.a),this.stop(),!0;this.Yc();this.K.vd++;return this.K.vd>this.K.lb?!0:!1},va:function(b){if(""===b)return!1;this.K.loaded++;this.K.lb--;var c=D.$d.create(b);"object"===typeof c?(this.K.hd++,this.Ya[c.name].src&&(c.src=this.Ya[c.name].src),this.Sf(c.jb),this.Qf(c.jb),$result=D.applets.add(c.name,c)):(this.K.dd++,delete this.Ya[c],this.remove(c),_DBG_(["Unable to identify applet, discarding.",b]),$result=!1);this.S=
!this.Wa();return $result},Qa:function(){return null},r:function(){this.S||(this.Sf(),this.Qf(),this.Yc())}});
D.pg=D.l.extend("h5c3.Image",{g:"Image",e:"0.1.0"},{width:0,height:0,G:null,src:null,name:null,loaded:!1,P:null,Y:null,Q:1,R:1,alpha:1,ec:null,f:function(b,c,f,h){this.m();this.name=b;this.src=D.M.wd(c);this.G=new Image;this.P=f;this.Y=h;this.G.onload=this.xb.bind(this);this.G.onerror=this.Da.bind(this);this.alpha=this.R=this.Q=1;D.M.S&&this.load()},wm:r("alpha"),nj:function(b,c){this.Q=b;this.R=c},xm:r("ec"),load:function(b,c){this.P=b;this.Y=c;this.loaded&&b&&this.P(this);this.G.onload=this.xb.bind(this);
this.G.onerror=this.Da.bind(this);this.G.src=this.src},reload:function(){this.loaded=!1;this.load()},Hh:function(b,c,f,h,k,l,m,n){null!=this.ec&&(b.globalCompositeOperation=this.ec);3==arguments.length?(b.save(),1!=this.alpha&&(b.globalAlpha=this.alpha),b.translate(c+this.width/2,f+this.height/2),b.scale(this.Q,this.R),b.drawImage(this.G,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height)):VLD(n)?(b.save(),1!=this.alpha&&(b.globalAlpha=this.alpha),0>this.Q||0>this.R?b.translate(h+
l/2*(1==this.Q?0:this.Q),k+m/2*(1==this.R?0:this.R)):b.translate(h+l/2,k+m/2),b.rotate(n*(Math.PI/180)),b.scale(this.Q,this.R),b.drawImage(this.G,c,f,l,m,-l/2,-m/2,l,m)):(b.save(),1!=this.alpha&&(b.globalAlpha=this.alpha),0>this.Q||0>this.R?b.translate(h+-(l/2)*(1==this.Q?0:this.Q),k+-(m/2)*(1==this.R?0:this.R)):b.translate(h,k),b.scale(this.Q,this.R),b.drawImage(this.G,c,f,l,m,0,0,l,m));b.restore();null!=this.ec&&(b.globalCompositeOperation="source-over");D.c.df++},xb:function(){this.loaded=!0;this.width=
this.G.width;this.height=this.G.height;this.P&&this.P(this)},Da:function(){this.Y&&this.Y(this)},expand:function(b,c){this.G.width=this.width+b;this.G.height=this.height+c;this.width=this.G.width;this.height=this.G.height},ej:function(b,c){var f=this.width*b,h=this.height*c,k=document.createElement("canvas");k.width=this.width;k.height=this.height;var l=document.createElement("canvas");l.width=f;l.height=h;var m=l.getContext("2d"),n=m.getImageData(0,0,f,h),k=k.getContext("2d");k.drawImage(this.G,
0,0,this.width,this.height,0,0,this.width,this.height);for(var k=k.getImageData(0,0,this.width,this.height),p=0;p<h;p++)for(var q=0;q<f;q++)for(var s=4*(Math.floor(p/c)*this.width+Math.floor(q/b)),B=4*(p*f+q),z=0;4>z;z++)n.data[B+z]=k.data[s+z];m.putImageData(n,0,0);this.G=l;return this}});
D.ig=D.l.extend("h5c3.CanvasImage",{},{width:0,height:0,canvas:null,loaded:!0,Q:1,R:1,f:function(b){this.canvas=b;this.width=b.width;this.height=b.height},Hh:function(b,c,f,h,k,l,m){void 0==l||void 0==m||0==l||0==m?b.drawImage(this.canvas,c,f):b.drawImage(this.canvas,c,f,l,m,h*this.Q,k*this.R,l*this.Q,m*this.R)},nj:function(b,c){this.Q=b;this.R=c}});
D.Uj=D.l.extend("h5c3.ImageTools",{rotate:function(b,c,f,h){var k=document.createElement("canvas");k.width=c*h;k.height=f;for(var l=k.getContext("2d"),m=0;m<h;m++)l.save(),l.translate(m*c+c/2,f/2),l.rotate(360/h*m*(Math.PI/180)),l.drawImage(b,-(c/2),-(f/2)),l.restore();return new D.ig(k)}},{});
D.Eg=D.l.extend("h5c3.Sound",{g:"SoundFactory",e:"0.1.2"},{D:[],src:null,name:null,Bd:0,loaded:!1,ma:!1,cc:1,P:null,Y:null,f:function(b,c,f,h,k,l){this.m();this.name=b;this.cc=h;b=!1;for(h=0;h<f.length;h++)if(D.c.aa(f[h])){this.src=D.M.wd(c+"."+f[h]);b=!0;break}b?D.M.S&&this.load(k,l):this.ma=!0;_DBG_("Initializaed.",this.a)},pause:function(){if(this.aa()){for(var b=0,c=this.D.length;b<c;b++)this.D[b].pause();_DBG_("Paused.",this.a)}},stop:function(){this.aa()&&this.pause()},oj:function(b){if(this.aa()){for(var c=
0,f=this.D.length;c<f;c++)this.D[c].volume=b;_DBG_("Volume set to "+b+" for all channels.",this.a)}},kj:function(b){if(this.aa())for(var c=0,f=this.D.length;c<f;c++)this.D[c].loop=b},dl:function(){return this.aa()?this.D[0].duration:-1},Bm:function(b){if(this.aa())for(var c=0,f=this.D.length;c<f;c++)this.D[c].playbackRate=b},Am:function(b){if(this.aa())for(var c=0,f=this.D.length;c<f;c++)this.D[c].currentTime=b},load:function(b,c){this.P=b;this.Y=c;if(this.loaded&&b)this.P(this);else for(var f=0;f<
this.cc;f++){var h=new Audio;h.mm="auto";h.addEventListener("canplaythrough",this.va.bind(this),!1);h.addEventListener("error",this.Qa.bind(this),!1);h.onerror=this.Qa.bind(this);h.onload=this.va.bind(this);h.src=this.src;h.load();this.D.push(h);D.c.mi&&this.va(null)}},reload:function(){this.ma=this.loaded=!1;this.load()},va:function(b){this.Bd++;_DBG_("Loaded ("+this.Bd+")",this.a);D.c.mi||b.target.removeEventListener("canplaythrough",this.va.bind(this),!1);this.Bd==this.cc&&(this.loaded=!0,this.ma=
!1,this.P&&this.P(this))},Qa:function(){_DBG_("Error on load.",this.a);this.ma=!0;this.loaded=!1;this.Y&&this.Y(this)},play:function(b){if(!this.aa())return null;for(var c=0,f=this.D.length;c<f;c++)if(this.D[c].paused||this.D[c].ended)return b&&(this.D[c].loop=!0),this.D[c].play(),this.D[c];this.warn(this.name+" - all channels are in use");return null},aa:function(){return this.loaded&&D.c.Jb&&!this.ma}});
D.bk=D.de.extend("h5c3.SoundFactory",{g:"SoundFactory",e:"0.1.2"},{f:function(){this.m("Sound")},create:function(b,c){var f=D.M.get(b).Jd;f.oj(c.volume);f.kj(c.loop);return this.add(b,f)},play:function(b,c){this.Ac(b,c).play(c.loop)}});
D.Kj=D.l.extend("h5c3.DataResource",{g:"DataResource",e:"0.1.0"},{data:null,ja:null,src:null,name:null,loaded:!1,P:null,Y:null,f:function(b,c,f,h){this.m();this.src=D.M.wd(c);this.name=b;this.P=f;this.Y=h;this.ja=new XMLHttpRequest;this.ja.onreadystatechange=this.Dd.bind(this);this.ja.onload=this.Dd.bind(this);this.ja.onloadend=this.Dd.bind(this);this.load()},load:function(b,c){this.P=b;this.Y=c;try{this.ja.open("get",this.src),this.ja.send(null)}catch(f){}finally{}},reload:function(){this.loaded=
!1;this.load()},Dd:function(){this.loaded||4!==this.ja.readyState||(200===this.ja.status?(this.loaded=!0,this.data=this.ja.responseText,this.P&&this.P(this)):404===this.ja.status&&(this.warn("resource "+this.src+" error "+this.ja.status),this.Y&&this.Y(this)))}});
D.Cg=D.l.extend("h5c3.Resources",{g:"Resources",e:"0.3.3"},{I:null,f:function(){this.m();this.vf()},vf:function(){_DBG_("Queing internal resources.",this.a);this.yi();this.xi()},yi:function(){if(VLD(D.n.I)){_DBG_("Queing images resources.",this.a);var b,c=D.n.I.images;for(b=0;b<c.length;++b)D.M.add(new D.pg(c[b].name,c[b].file))}else _DBG_("No graphic resources to que. (Did you forget to add them to the config?)",this.a)},xi:function(){if(VLD(D.n.I)){_DBG_("Queing audio resources.",this.a);var b,
c,f,h=D.n.I.D;for(b=0;b<h.length;b++)c="true"===h[b].Ql?"ogg":"",f="true"===h[b].Kl?"mp3":"",D.M.add(new D.Eg(h[b].name,h[b].file,[c,f],h[b].cc))}else _DBG_("No audio resources to que. (Did you forget to add them to the config?)",this.a)}});D.Dg={lg:0,Qj:1,Rj:2,Sj:4,Tj:8};
D.J=D.l.extend("h5c3.Device",{g:"Device",e:"0.1.0"},{c:D.J,media:D.xg,page:null,M:null,input:null,qf:null,If:null,Wm:null,Nf:!1,S:!1,Of:!0,Sh:30,Ze:0,Ek:0,$f:0,Th:0,tj:0,Qk:!0,Jb:!0,df:0,wi:0,uf:0,cf:0,td:0,now:Date.now(),startTime:0,screen:null,rc:D.J.rc,Eb:D.J.Eb,sd:D.J.sd,rd:D.J.rd,od:D.J.od,kb:D.J.kb,qb:D.J.qb,tf:D.J.tf,qc:D.J.qc,Pd:D.ba,ba:D.ba,Yk:1,f:function(){this.m();_DBG_("Initialization started.",this.a);this.M=D.M;this.input=new D.qg},Ne:function(){_DBG_("boot initiated.",this.a);this.page=
new D.zg(this,"H5C3 Unanamed App");this.i=this.page.i;this.tj=1E3/this.Sh;this.Id=D.J.Id;this.r();_DBG_("boot complete.",this.a)},tl:function(){this.Ha={cells:D.Dg.lg}},aa:function(b){return D.J.aa(b)},r:function(){_DBG_("Dispatching Ready",this.a);this.S||(this.page.r(),this.input.Qc(),this.td=Date.now(),window.requestAnimationFrame(this.sc.bind(this)),this.lc(!0),this.S=!0)},Ef:function(){this.lc(!1);window.cancelAnimationFrame(!0);_DBG_("Animation frame binding canceled.",this.a)},lc:function(b){!0===
b?(_DBG_("Loader timer started.",this.a),this.qf=new D.Qb(0,6,function(){D.c.input.nb()},function(){_DBG_("Loader Timer terminated.",this.a)}),this.If=new D.Qb(0,30,function(){D.c.Of=!D.c.page.i.j.nb()},function(){_DBG_("Process Timer terminated.",this.a)})):(_DBG_("Stop all timers.",this.a),this.If=this.qf=null)},sc:function(){if(!1!==this.Of)try{this.now=this.startTime=Date.now(),this.cf=this.now-this.td,this.df=this.uf=0,this.Ze=1E3/this.cf,this.$f+=this.Ze,this.Th++,this.wi=Date.now()-this.startTime-
this.uf,this.td=this.now,this.page.sc(),window.requestAnimationFrame(this.sc.bind(this))}catch(b){AST(null,printStackTrace(b))}},vl:function(b,c,f,h){return D.Wj.wl(b,c,f,h,0,0,this.i.d.k,this.i.d.p)}});
D.qg=D.l.extend("h5c3.Input",{g:"Input",e:"0.1.0",Nc:null,jc:function(b,c){null===this.Nc&&(this.Nc=D.Ag.create(0,0));var f=c;VLD(c)||(f=this.Nc);b.pageX||b.pageY?(f.x=b.pageX,f.y=b.pageY):(f.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,f.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop);return f}},{Kb:null,pa:null,$b:null,Af:null,Di:!1,Fi:!1,Ei:!1,f:function(){this.m();this.Kb=new D.N;this.pa=new D.N;this.$b=new D.N;this.Af=D.Ag.create(0,0)},Fk:function(b,
c,f,h){if(null===b.C)throw"Oops, you can't bind a state to an object if it doesn't have a uniqueId function";f=f.toUpperCase();h={ob:c,object:b,input:f,state:{da:!1,event:null},Ca:h};var k=this.Kb.get(f);null===k?this.Kb.put(f,[h]):k.push(h);this.pa.put(b.C+"\\\\"+c,{da:!1,event:null});D.h.pc(D.h.oa(f))&&this.Yb.push(h)},Jk:function(b){var c,f,h,k,l,m=this.Kb.T();for(c=0;c<m.length;c++)for(l=m[c],f=0;f<l.length;f++)h=l[f],h.object===b&&(k=this.pa.get(next.object.C+"\\\\"+next.ob),k.da=!1,k.event=
null,D.h.pc(h.input)&&D.wj.sh(this.Yb,h))},ul:function(b,c){var f=this.pa.get(b.C+"\\\\"+c);if(null===f)throw"Ooops, unknown state "+c;return f.da},ml:function(b,c){return this.pa.get(b.C+"\\\\"+c)},$a:function(b,c,f,h){f=f.toUpperCase();var k=this.$b.get(f);null===k?this.$b.put(f,[{Uc:c,object:b,input:f,Ca:h}]):k.push({Uc:c,input:f,object:b,Ca:h})},na:function(b,c){var f,h,k,l,m,n=this.$b.get(D.h.getName(b));if(null===n)return!1;for(f=0;f<n.length;f++)if(h=n[f],k=n[f].object,!k.nc||k.nc())D.h.pc(b)?
(l=this.a.jc(c),(m=VLD(h.Ca)?h.Ca.ua():k.ua?k.ua():null)&&m.Xe(l)&&k.Cf(h.Uc,c,l,h.Ca)):k.Cf(h.Uc);return!0},Qc:function(){_DBG_("onReady Event.",this.a);D.c.i.j.th(this);window.addEventListener("keydown",this.Qg.bind(this),!0);window.addEventListener("keyup",this.Rg.bind(this),!0)},Yb:[],re:function(b){var c,f,h;for(c=0;c<this.Yb.length;c++)(f=this.Yb[c],"mousemove"===b.type&&D.h.kb(D.h.oa(f.input))||"touchmove"===b.type&&!D.h.kb(D.h.oa(f.input))||D.h.oa(f.input)===D.h.Fc||D.h.oa(f.input)===D.h.Tb||
D.h.oa(f.input)===D.h.Vb||D.h.oa(f.input)===D.h.tb||D.h.oa(f.input)===D.h.Gc||D.h.oa(f.input)===D.h.Ub||D.h.oa(f.input)===D.h.Hc||!(h=VLD(f.Ca)?f.Ca.ua():f.object.ua?f.object.ua():null))||(h.Xe(this.a.jc(b))?(f=this.pa.get(f.object.C+"\\\\"+f.ob),f.da=!0):(f=this.pa.get(f.object.C+"\\\\"+f.ob),f.da=!1),f.event=b)},ha:function(b,c,f){var h,k,l,m,n;h=D.h.getName(b);if(null===h)return this.warn("Unknown keycode = "+b),!1;k=this.Kb.get(h);if(null===k)return!1;for(h=0;h<k.length;h++)if(l=k[h],!l.object.nc||
l.object.nc())D.h.pc(b)?(m=this.a.jc(f),(n=VLD(l.Ca)?l.Ca.ua():l.object.ua?l.object.ua():null)?n.Xe(m)&&(l=this.pa.get(l.object.C+"\\\\"+l.ob),l.da=c,l.event=f):(l=this.pa.get(l.object.C+"\\\\"+l.ob),l.da=c,l.event=f)):(l=this.pa.get(l.object.C+"\\\\"+l.ob),l.da=c,l.event=f);return!0},Za:null,nb:function(){this.Za&&(this.re(this.Za),this.na(D.h.he,this.Za),this.a.jc(this.Za,this.Af),this.Za=null)},Qg:function(b){this.ha(b.keyCode,!0,b)&&b.preventDefault();this.na(b.keyCode,b)&&b.preventDefault()},
Rg:function(b){this.ha(b.keyCode,!1,b)&&b.preventDefault()},He:function(b){var c;c=0;for(len=b.touches.length;c<len;c++)this.ha(D.h.wb,!0,b.touches[c]),this.na(D.h.wb,b.touches[c]);b.preventDefault()},Fe:function(b){var c;c=0;for(len=b.changedTouches.length;c<len;c++)this.ha(D.h.wb,!1,b.changedTouches[c]);b.preventDefault()},Ge:function(b){var c;c=0;for(len=b.touches.length;c<len;c++)this.re(b.touches[c]);b.preventDefault()},Ae:function(b,c){switch(b.button){case 0:this.ha(D.h.Tb,c,b);this.ha(D.h.Fc,
!c,b);this.na(D.h.Tb,b);this.Di=!0;break;case 1:this.ha(D.h.Ub,c,b);this.ha(D.h.Gc,!c,b);this.na(D.h.Ub,b);this.Ei=!0;break;case 2:this.ha(D.h.tb,c,b),this.ha(D.h.Vb,!c,b),this.na(D.h.tb,b),this.Fi=!0}this.na(D.h.Hc,b);b.preventDefault()},Yg:function(b){this.Ae(b,!1)},Wg:function(b){this.Ae(b,!0)},Xg:function(b){this.Za=b;b.preventDefault()},Mg:function(b){this.ha(D.h.Vb,!0,b);this.na(D.h.tb,b)},Zg:function(b){0<b.wheelDelta?this.na(D.h.je,b):this.na(D.h.ie,b);b.preventDefault()}});
D.h=D.l.extend("h5c3.InputType",{Ad:null,$c:null,yg:1E3,he:1100,Hc:1110,Fc:1200,Tb:1201,Vb:1220,tb:1221,Gc:1230,Ub:1231,je:1300,ie:1301,wb:1E3,gk:1001,hk:1002,ek:1003,dk:1004,fk:1005,f:function(){var b,c;this.Ad=new D.N;this.$c=new D.N;this.b(8,"BACKSPACE");this.b(9,"TAB");this.b(13,"ENTER");this.b(16,"SHIFT");this.b(17,"CTRL");this.b(18,"ALT");this.b(19,"PAUSE");this.b(20,"CAPS");this.b(27,"ESC");this.b(32,"SPACE");this.b(33,"PAGE_UP");this.b(34,"PAGE_DOWN");this.b(35,"END");this.b(36,"HOME");this.b(37,
"LEFT");this.b(38,"UP");this.b(39,"RIGHT");this.b(40,"DOWN");this.b(45,"INSERT");this.b(46,"DELETE");for(b=48;91>b;b++)c=String.fromCharCode(b),this.b(b,c);this.b(91,"WINDOW_LEFT");this.b(92,"WINDOW_RIGHT");this.b(93,"SELECT");this.b(96,"NUM_0");this.b(97,"NUM_1");this.b(98,"NUM_2");this.b(99,"NUM_3");this.b(100,"NUM_4");this.b(101,"NUM_5");this.b(102,"NUM_6");this.b(103,"NUM_7");this.b(104,"NUM_8");this.b(105,"NUM_9");this.b(106,"*");this.b(107,"+");this.b(109,"-");this.b(110,".");this.b(111,"/");
this.b(112,"F1");this.b(113,"F2");this.b(114,"F3");this.b(115,"F4");this.b(116,"F5");this.b(117,"F6");this.b(118,"F7");this.b(119,"F8");this.b(120,"F9");this.b(121,"F10");this.b(122,"F11");this.b(123,"F12");this.b(144,"NUM_LOCK");this.b(145,"SCROLL_LOCK");this.b(186,";");this.b(187,"=");this.b(188,",");this.b(189,"-");this.b(190,".");this.b(191,"/");this.b(192,"`");this.b(219,"[");this.b(220,"\\");this.b(221,"]");this.b(222,"'");this.b(this.wb,"TOUCH");this.b(this.Tb,"MOUSE_BUTTON_LEFT_DOWN");this.b(this.Fc,
"MOUSE_BUTTON_LEFT_UP");this.b(this.tb,"MOUSE_BUTTON_RIGHT_DOWN");this.b(this.Vb,"MOUSE_BUTTON_RIGHT_UP");this.b(this.Ub,"MOUSE_BUTTON_MIDDLE_DOWN");this.b(this.Gc,"MOUSE_BUTTON_MIDDLE_UP");this.b(this.je,"MOUSE_WHEEL_UP");this.b(this.ie,"MOUSE_WHEEL_DOWN");this.b(this.he,"MOUSE_MOVE");this.b(this.Hc,"MOUSE_CLICK")},kb:function(b){return b===this.wb},pc:function(b){return b>=this.yg},b:function(b,c){this.$c.put(b,c);this.Ad.put(c,b)},getName:function(b){return this.$c.get(b)},oa:function(b){return this.Ad.get(b)}},
{});
D.zg=D.l.extend("h5c3.Page",{g:"Page",e:"0.1.0"},{c:null,v:{u:null,d:{k:0,p:0}},L:{name:null,j:null,id:null,u:null,d:{k:0,p:0}},i:{name:null,j:null,id:null,canvas:null,ra:null,d:{k:0,p:0}},o:{name:null,j:null,id:null,canvas:null,ra:null,d:{k:0,p:0}},options:{Pk:!0,sj:!0,Ii:!0},orientation:{event:!1,state:null},cb:null,f:function(b,c){this.m();this.c=b;DOC().title=c;this.v.u=GEI("waDIV");this.debug("Initialization started.");this.debug("UA="+window.navigator.userAgent);this.debug("Detected Device Screen Dimensions are ["+window.screen.availWidth+
"x"+window.screen.availHeight+"]");this.debug("Detected Device Usable Dimensions are ["+window.innerWidth+"x"+window.innerHeight+"]");this.c.qb?(this.debug("Mobile Media Detected "+this.c.media.ab.name+" v"+this.c.media.ab.version+" on "+this.c.media.Wb.name),this.ji(),this.pf(),this.li()):(this.debug("Static Media Detected "+this.c.media.ab.name+" v"+this.c.media.ab.version+" on "+this.c.media.Wb.name),this.pf());!0===this.options.sj?(this.debug("OPTION: Suspened on focus enabled."),window.addEventListener("blur",
this.$g.bind(this),!0),window.addEventListener("focus",this.bh.bind(this),!0)):this.debug("OPTION: Suspened on focus disabled.");!0===this.options.Ii?(this.debug("OPTION: Network monitoring enabled."),window.document.addEventListener("offline",this.fh.bind(this),!0),window.document.addEventListener("online",this.gh.bind(this),!0)):this.debug("OPTION: Network monitoring disabled.");window.onresize=this.ih.bind(this)},ji:function(){var b=GEI("waDIV");this.L.u=document.createElement("div");this.L.u.id=
this.L.id="waBannerDIV";this.L.u.width=window.innerWidth;this.L.u.height=32;b.appendChild(this.L.u);this.L.u||this.debug("Could not get a banner element using the id ["+this.L.id+"]. ");this.L.j=new D.Gj(this.L.u);this.L.j||this.debug("Invalid Banner class. Must be named [Banners]");this.L.d={k:this.L.u.width,p:this.L.u.height};this.debug("Created Banner panel ["+this.L.d.k+"x"+this.L.d.p+"]")},pf:function(){this.mj();VLD(this.i.canvas=GEI("waCANVAS"))?(this.i.ra=this.i.canvas.getContext("2d"),this.i.d=
{k:this.i.canvas.width,p:this.i.canvas.height},"function"===typeof Game&&(this.i.j=new Game(this.i),VLD(this.i.j)?this.debug("Created Game panel ["+this.i.d.k+"x"+this.i.d.p+"]"):this.debug("ERROR: Invalid Game class, Must be named [Game]"))):this.debug("ERROR: Could not attach to a canvas element using the id ["+this.i.id+"]. ")},li:function(){var b=GEI("waDIV");this.o.canvas=document.createElement("canvas");this.o.canvas.id=this.o.id="pcTouchCanvas";this.o.canvas.width=1080;this.o.canvas.height=
540;b.appendChild(this.o.canvas);if(!this.o.canvas)throw"device.js::initTouchpad() - Abort! Could not attach to a canvas element using the id ["+this.o.id+"]. ";this.o.ra=this.o.canvas.getContext("2d");this.o.d={k:this.o.canvas.width,p:this.o.canvas.height};this.o.j=new D.jk(this.o.ra,this.o.d);if(!this.o.j)throw"device.js::initTouchpad() - Invalid touchpad class. Must be named [TouchPad]";this.debug("Created Touchpad panel ["+this.o.d.k+"x"+this.o.d.p+"]")},mj:function(){this.c.S&&(window.Lj?(this.orientation.event=
!0,this.debug("Device Orientation is supported - Event Hooked Added."),window.addEventListener("deviceorientation",this.Df,!1)):(this.orientation.event=!1,this.debug("Device Orientation not supported")),this.orientation.state=D.c.qb||window.innerHeight>window.innerWidth?H5c3.ke.Xj:H5C3.ke.rg)},Df:function(b){null!==b.alpha&&null!==b.beta&&null!==b.gamma||!0!==D.c.page.orientation.event||(window.removeEventListener("deviceorientation",this.Df,!1),D.c.page.orientation.event=!1,D.c.page.debug("This device does not REALLY have orientation capabilities - Event Hooked Removed."))},
Lg:function(){this.orientation.state===H5C3.ke.rg?(this.debug("Orientation set to Landscape."),document.fullScreen||GEI("waCANVAS").webkitRequestFullScreen()):this.debug("Orientation set to Portrait.");this.v.d.k=window.innerWidth;this.v.u.width=this.v.d.k+"px";this.v.u.style.width=this.v.d.k+"px";this.v.d.p=window.innerHeight;this.v.u.height=this.v.d.p+"px";this.v.u.style.height=this.v.d.p+"px";this.debug("Calculated screen space is ["+this.v.d.k+"x"+this.v.d.p+"]");var b=this.v.d.p;D.c.qb?(this.i.d.k=
this.v.d.k,this.i.canvas.style.width=this.i.d.k+"px",this.i.d.p=this.v.d.k,this.i.canvas.style.height=this.i.d.p+"px",b-=this.i.d.p,this.o.d.k=this.v.d.k,this.o.canvas.style.width=this.o.d.k+"px",this.o.d.p=b,this.o.canvas.style.height=this.o.d.p+"px",b-=this.o.d.p):(this.i.d.k=this.v.d.k,this.i.canvas.style.width=this.i.d.k+"px",this.i.d.p=this.v.d.p,this.i.canvas.style.height=b+"px",b-=b);this.debug("Used ["+this.i.d.k+"x"+this.i.d.p+"] for Game Panel.");this.debug("Used ["+this.o.d.k+"x"+this.o.d.p+
"] for Touchpad Panel.");0!==b&&this.debug("Layout was not done correctly. "+b+"px difference.")},sc:g(),Um:function(b){this.v.u.display="none";!0===b?this.v.u.innerHTML="":document.location.reload();this.v.u.display="block"},$g:function(){this.i.j.Mi()},bh:function(){this.i.j.Oi()},fh:function(){this.debug("Lost network connection.")},gh:function(){this.debug("Gained network connection.")},ih:function(){this.debug("Dimension changed detected.");this.Lg();this.i.d.k=this.i.canvas.width;this.i.d.p=
this.i.canvas.height;this.i.j.Hb(this.i.d.k,this.i.d.p)},r:function(){this.debug("onReady Called.");this.i.j.r();D.c.qb&&this.o.j.r()}});
D.Vj=D.l.extend("h5c3.Main",{g:"Main",e:"0.1.0"},{ya:null,qa:null,paused:!1,ra:null,d:null,ac:!1,f:function(b){this.m();_DBG_("Initializing "+this.a.Xf+" object.",this.a);this.ra=b.ra;this.d=b.d;this.canvas=b.canvas;this.ya=new D.ga;this.qa=new D.ga;!0===D.ba&&(D.c.input.$a(this,"developer window","F6"),D.c.input.$a(this,"physics debug","F7"),D.c.input.$a(this,"pool dump","F8"),D.c.input.$a(this,"toggle sound","F9"),D.c.input.$a(this,"reset","F10"),D.c.input.$a(this,"exit","F12"));_DBG_("Initialization completed.",
this.a)},nb:function(){if(this.paused||this.ac)return this.ac;for(var b=this.qa.first;b;)b.object().nb(),b=b.next();return this.ac},qj:function(){for(var b=D.M.Vh(),c=0;c<b.length;c++)D.c.Jb&&b[c].stop()},Cf:function(b){switch(b){case "reset":D.c.Ne();break;case "exit":this.$i();break;case "developer window":VLD(D.c.page.cb)?(_DBG_("Developer Window activated.",this.a),D.c.page.cb.Mm()):_DBG_("Developer Window not available. Did you include the Plugin in your config? Are you running the debug.html version of your app?'",
this.a);break;case "toggle sound":this.qj();D.c.Jb=!D.c.Jb;D.c.Jb?D.c.page.cb.Od("Sound Enabled."):D.c.page.cb.Od("Sound Disabled.");break;case "pool dump":D.c.page.cb.Od("Object Pool Dump:\n===================");D.c.page.cb.Od(D.ka.kc());break;case "physics debug":for(b=this.ya.first;b;){for(var c=b.object().hl();c;){var f=c.object();if(f.a.mc("h5c3.EntityLayer"))for(f=f.za.fa.first;f;){var h=f.object();h.a.mc("h5c3.systems.Physics")&&h.ym(!h.debug);f=f.next()}c=c.next()}b=b.next()}}},zk:function(b){try{b.ra=
this.ra,this.ya.add(b),this.qa.add(b)}catch(c){AST(null,"Error Adding scene ["+b+"]: "+c)}},bm:g(),sm:function(b){this.ya.remove(b);this.qa.remove(b)},dm:g(),wk:function(b){"undefined"===typeof b||b.V||(this.qa.add(b),b.V=!0,b.Rl())},am:g(),Nk:function(b){b.V&&(this.qa.remove(b),b.V=!1,b.Wl())},cm:g(),il:function(){return this.qa.first},jl:function(){return this.ya.first},pause:function(){if(!this.paused){D.c.lc(!1);this.paused=!0;for(var b=this.ya.first;b;)b.object().pause(),b=b.next()}},nc:function(){return!this.paused},
Kd:function(){if(this.paused){D.c.lc(!0);this.paused=!1;for(var b=this.ya.first;b;)b.object().Kd(),b=b.next()}},Lm:function(){this.paused?this.Kd():this.pause()},$i:function(b){_DBG_(b,this.a);this.Ef();this.ac=!0},Ef:function(){_DBG_("CloudApp Exiting...",this.a)},reset:function(){for(var b=this.ya.first;b;)b.j.reset(),b=b.next();this.ya.clear();this.qa.clear();this.r()},th:function(b){D.c.qb?(_DBG_("Attached Touch Events",this.a),this.canvas.addEventListener("touchstart",b.He.bind(b),!0),this.canvas.addEventListener("touchend",
b.Fe.bind(b),!0),this.canvas.addEventListener("touchmove",b.Ge.bind(b),!0),D.c.o.canvas.addEventListener("touchstart",b.He.bind(b),!0),D.c.o.canvas.addEventListener("touchend",b.Fe.bind(b),!0),D.c.o.canvas.addEventListener("touchmove",b.Ge.bind(b),!0)):(_DBG_("Attached Mouse & Keyboard Events",this.a),this.canvas.addEventListener("selectstart",function(b){b.preventDefault();return!1},!1),this.canvas.addEventListener("mouseup",b.Yg.bind(b),!0),this.canvas.addEventListener("mousedown",b.Wg.bind(b),
!0),this.canvas.addEventListener("mousemove",b.Xg.bind(b),!0),this.canvas.addEventListener("mousewheel",b.Zg.bind(b),!0),this.canvas.addEventListener("contextmenu",b.Mg.bind(b),!0))},r:function(){_DBG_("onReady received.",this.a);!0===D.ba&&D.M.Uf();if(!1===D.c.Nf)try{D.I.vf(),D.M.start(this.Si.bind(this),this.Ri.bind(this)),D.c.Nf=!0}catch(b){console.log("ERROR: "+b)}},Hb:function(b,c){for(var f=this.qa.first;f;)f.j.Hb(b,c),f=f.next()},Mi:function(){this.paused||(this.pause(),_DBG_("Lost focus - Paused.",
this.a))},Oi:function(){this.paused&&(this.Kd(),_DBG_("Gained focus - Resuming.",this.a))},Si:g(),Ri:g(),ua:function(){return D.$j.create(0,0,D.c.Gh.k,D.c.Gh.p)}});D.fa={};D.fa.Hg=D.l.extend("h5c3.System",{g:"Systems",e:"0.1.0"},{X:null,la:null,za:null,gc:0,xe:0,f:function(b,c){this.m();this.gc=CHK(c,0);if(!b instanceof Array)throw"Invalid component types array. Use a blank array ([]) if there are no components handled by the system.";this.la=b},Ed:g(),Hb:g(),Ff:g(),Sl:g(),$l:g()});
D.fa.Oj=D.fa.Hg.extend("h5c3.systems.EntitySystem",{g:"EntitySystem",e:"0.1.0"},{entities:null,wc:null,f:function(b,c){this.m(b,c);this.entities=new D.ga;this.wc=new D.ga},yk:function(b){for(var c=0;c<this.la.length;c++)if(b.of(this.la[c])){this.entities.add(b);break}},add:function(b){this.entities.Bb(b)||this.entities.add(b)},remove:function(b){this.entities.remove(b)},dj:function(b){for(var c=0;c<this.la.length;c++)if(b.of(this.la[c]))return;this.remove(b)},Ed:function(){for(var b=this.entities.first;b;)this.nb(b.j),
b=b.next();for(b=this.wc.first;b;)this.remove(b.j),b=b.next();this.wc.clear()},nb:g(),Hm:function(b){this.wc.add(b)},Xl:g(),Yl:g(),Ul:g(),Vl:g()});D.We={};D.We.Ij=D.Kc.extend("h5c3.components.Component",{g:"Component",e:"0.1.0",create:function(){var b=this.m();b.V=!0;return b}},{Mc:null,Ie:null,f:function(b){this.m();this.Ie=b},ib:function(){return this.Ie.toLowerCase()},fl:y("Mc"),Tl:g()});
D.ck=D.l.extend("h5c3.SystemManager",{g:"SystemManager",e:"0.1.0"},{fa:null,Aa:null,X:null,f:function(b){this.fa=new D.ga;this.Aa=new D.N;this.X=b},add:function(b){b.X=this.X;b.za=this;this.fa.add(b);if(!VLD(b.la))throw"systemmanager.js::add() - Invalid component types: it can be empty, but not undefined. Did you forget to add an init method to your system and/or not call this._super(componentTypes)";for(var c=0;c<b.la.length;c++){var f=b.la[c].toLowerCase(),h=this.Aa.get(f);null==h&&(h=new D.ga,
this.Aa.put(f,h));h.Bb(b)||h.add(b)}for(b=this.X.Sk.entities.first;b;)this.Pc(b.object()),b=b.next()},remove:function(b){this.fa.remove(b);for(var c=0;c<b.la;c++){var f=this.Aa.get(b.la[c].toLowerCase());assert(null!=f,"Oops, trying to remove a system and it's not in the by type list");b.za=null;f.remove(b)}},$k:function(b){return this.Aa.get(b)},Ff:function(b,c){for(var f=this.fa.first;f;)f.object().Ff(b,c),f=f.next()},Pc:function(b){for(var c=b.bl(),f=0;f<c.length;f++){var h=this.Aa.get(c[f].toLowerCase());
if(h)for(h=h.first;h;)h.j.add(b),h=h.next()}},ve:function(b){var c=b.kf();if(null!=c)for(var c=c.keys(),f=0;f<c.length;f++){var h=this.Aa.get(c[f].toLowerCase());if(h)for(h=h.first;h;)h.j.remove(b),h=h.next()}},te:function(b,c){var f=this.Aa.get(c.ib());if(null!=f)for(f=f.first;f;)f.j.add(b),f=f.next()},ue:function(b,c){var f=this.Aa.get(c.ib());if(null!=f)for(f=f.first;f;)f.j.dj(b),f=f.next()},Ed:function(){for(var b=this.fa.first;b;){if(0==b.j.gc||D.c.now-b.j.xe>b.j.gc)b.j.Ed(),0!=b.j.gc&&(b.j.xe=
D.c.now);b=b.next()}},Hb:function(b,c){for(var f=this.fa.first;f;)f.j.Hb(b,c),f=f.next()}});
D.Nj=D.l.extend("h5c3.EntityManager",{g:"EntityManager",e:"0.1.0"},{fb:null,dc:null,bb:null,entities:null,zb:null,X:null,f:function(b){this.X=b;this.fb=new D.og;this.entities=new D.ga;this.dc=new D.ee;this.bb=new D.ee;this.zb=new D.ga},Hk:function(){for(var b=this.zb.first;b;)this.Og(b.object()),b=b.next();this.zb.clear()},add:function(b,c){this.entities.add(b);void 0!=c&&this.fb.add(c,b);var f=b.kf();if(null!=f)for(var f=f.Bc(),h=0;h<f.length;h++)this.pe(b,f[h]);this.X.za.Pc(b)},remove:function(b){this.zb.Bb(b)||
(this.zb.add(b),b.V=!1)},rm:function(b,c){this.Ce(b,c);this.X.za.ue(b,c);b.ue(c);c.Mc=null},Ak:function(b,c){-1==b.yc.indexOf(c.toLowerCase())&&(this.fb.add(c.toLowerCase(),b),b.yc.push(c.toLowerCase()))},tm:function(b,c){this.fb.remove(c.toLowerCase(),b);b.yc.remove(c.toLowerCase())},nl:function(b){return this.fb.get(b.toLowerCase())},vk:function(b){b.V||(this.X.za.Pc(b),b.V=!0)},Mk:function(b){b.V&&(this.X.za.ve(b),b.V=!1)},Og:function(b){this.entities.remove(b);var c=b.kf();if(null!=c)for(var c=
c.Bc(),f=0;f<c.length;f++)this.Ce(b,c[f]);for(c=0;c<b.yc.length;c++)this.fb.remove(b.yc[c],b);this.X.za.ve(b);b.xa()},xk:function(b,c){this.pe(b,c);b.te(c);this.X.za.te(b,c);c.Mc=b;return c},al:function(b,c){return this.bb.get(b.O+":"+c)},cl:function(b){return this.dc.get(b.O)},of:function(b,c){return this.bb.ad(b.O+":"+c)},pe:function(b,c){if(this.bb.get(b.O+":"+c.ib()))throw"entitymanager.js::_addToComponentMap() - adding component "+c.ib()+" to entity "+b+" when it already has one of that type";
this.bb.put(b.O+":"+c.ib(),c);this.dc.put(b.O,c)},Ce:function(b,c){this.bb.remove(b.O+":"+c.ib());this.dc.remove(b.O);c.xa()}});D.lang||(D.lang={Cj:"Developer",Fj:"Production"});D.f()&&D.Ld();